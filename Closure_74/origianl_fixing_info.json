{
  "logger": {
    "currentLogLevel": 20,
    "name": "root.bean.benchmarks.Defects4JBug"
  },
  "d4jCmd": "/home/liumengjiao/Desktop/defects4j/framework/bin/defects4j",
  "dataDir": "/home/liumengjiao/Desktop/CI/Benchmark/data/changesInfo/",
  "properties": {
    "trigger.tests": "com.google.javascript.jscomp.PeepholeFoldConstantsTest::testFoldComparison3,com.google.javascript.jscomp.PeepholeFoldConstantsTest::testInvertibleOperators,com.google.javascript.jscomp.PeepholeFoldConstantsTest::testCommutativeOperators",
    "test.dir": "test",
    "clz.modified": "com.google.javascript.jscomp.PeepholeFoldConstants",
    "src.dir": "src"
  },
  "timeoutSecond": 100,
  "proj": "Closure",
  "id": "74",
  "workingDir": "../bugs/Closure_74_buggy",
  "buggyCommit": "d5bf6b425c5d52b28136afc9770876139b34acd7",
  "inducingCommit": "6b49cfd9022fe111bdad745c78ea877fbc2f7ba3",
  "originalCommit": "7e0d71b3d68ad4788a094d8618e2b0aa474cf3db",
  "bug_name": "Closure_74",
  "derive": "defects4j",
  "original_fixing_commit": "03fee32a06ccf8257b2da67b9034270be38805ae",
  "buildFiles_changed": false,
  "regression": true,
  "inducing_changes": [],
  "inducing_type": {
    "add_classes": {
      "qualified_names": [
        "src/com/google/javascript/jscomp/AbstractCompiler.java",
        "src/com/google/javascript/jscomp/AbstractCompilerRunner.java",
        "src/com/google/javascript/jscomp/AbstractMessageFormatter.java",
        "src/com/google/javascript/jscomp/AliasExternals.java",
        "src/com/google/javascript/jscomp/AliasKeywords.java",
        "src/com/google/javascript/jscomp/AliasStrings.java",
        "src/com/google/javascript/jscomp/AmbiguateProperties.java",
        "src/com/google/javascript/jscomp/AnalyzeNameReferences.java",
        "src/com/google/javascript/jscomp/AnalyzePrototypeProperties.java",
        "src/com/google/javascript/jscomp/AnonymousFunctionNamingCallback.java",
        "src/com/google/javascript/jscomp/AnonymousFunctionNamingPolicy.java",
        "src/com/google/javascript/jscomp/AstChangeProxy.java",
        "src/com/google/javascript/jscomp/AstParallelizer.java",
        "src/com/google/javascript/jscomp/BasicErrorManager.java",
        "src/com/google/javascript/jscomp/ChainCalls.java",
        "src/com/google/javascript/jscomp/ChainableReverseAbstractInterpreter.java",
        "src/com/google/javascript/jscomp/CheckAccessControls.java",
        "src/com/google/javascript/jscomp/CheckAccidentalSemicolon.java",
        "src/com/google/javascript/jscomp/CheckGlobalNames.java",
        "src/com/google/javascript/jscomp/CheckGlobalThis.java",
        "src/com/google/javascript/jscomp/CheckLevel.java",
        "src/com/google/javascript/jscomp/CheckLevelLegacy.java",
        "src/com/google/javascript/jscomp/CheckMissingGetCssName.java",
        "src/com/google/javascript/jscomp/CheckMissingReturn.java",
        "src/com/google/javascript/jscomp/CheckPathsBetweenNodes.java",
        "src/com/google/javascript/jscomp/CheckProvides.java",
        "src/com/google/javascript/jscomp/CheckRequiresForConstructors.java",
        "src/com/google/javascript/jscomp/CheckSideEffects.java",
        "src/com/google/javascript/jscomp/CheckUnreachableCode.java",
        "src/com/google/javascript/jscomp/ClosureCodingConvention.java",
        "src/com/google/javascript/jscomp/ClosureReverseAbstractInterpreter.java",
        "src/com/google/javascript/jscomp/CoalesceVariableNames.java",
        "src/com/google/javascript/jscomp/CodeChangeHandler.java",
        "src/com/google/javascript/jscomp/CodeConsumer.java",
        "src/com/google/javascript/jscomp/CodeGenerator.java",
        "src/com/google/javascript/jscomp/CodePrinter.java",
        "src/com/google/javascript/jscomp/CodingConvention.java",
        "src/com/google/javascript/jscomp/CodingConventionAnnotator.java",
        "src/com/google/javascript/jscomp/CollapseAnonymousFunctions.java",
        "src/com/google/javascript/jscomp/CollapseProperties.java",
        "src/com/google/javascript/jscomp/CollapseVariableDeclarations.java",
        "src/com/google/javascript/jscomp/CombinedCompilerPass.java",
        "src/com/google/javascript/jscomp/CompilationLevel.java",
        "src/com/google/javascript/jscomp/Compiler.java",
        "src/com/google/javascript/jscomp/CompilerInput.java",
        "src/com/google/javascript/jscomp/CompilerOptions.java",
        "src/com/google/javascript/jscomp/CompilerPass.java",
        "src/com/google/javascript/jscomp/CompilerRunner.java",
        "src/com/google/javascript/jscomp/ComposeWarningsGuard.java",
        "src/com/google/javascript/jscomp/ConcreteType.java",
        "src/com/google/javascript/jscomp/ConstCheck.java",
        "src/com/google/javascript/jscomp/ControlFlowAnalysis.java",
        "src/com/google/javascript/jscomp/ControlFlowGraph.java",
        "src/com/google/javascript/jscomp/ControlStructureCheck.java",
        "src/com/google/javascript/jscomp/ConvertToDottedProperties.java",
        "src/com/google/javascript/jscomp/CreateSyntheticBlocks.java",
        "src/com/google/javascript/jscomp/CrossModuleCodeMotion.java",
        "src/com/google/javascript/jscomp/CrossModuleMethodMotion.java",
        "src/com/google/javascript/jscomp/CssRenamingMap.java",
        "src/com/google/javascript/jscomp/CustomPassExecutionTime.java",
        "src/com/google/javascript/jscomp/DataFlowAnalysis.java",
        "src/com/google/javascript/jscomp/DeadAssignmentsElimination.java",
        "src/com/google/javascript/jscomp/DefaultCodingConvention.java",
        "src/com/google/javascript/jscomp/DefaultPassConfig.java",
        "src/com/google/javascript/jscomp/DefinitionProvider.java",
        "src/com/google/javascript/jscomp/DefinitionSite.java",
        "src/com/google/javascript/jscomp/DefinitionsRemover.java",
        "src/com/google/javascript/jscomp/Denormalize.java",
        "src/com/google/javascript/jscomp/DevirtualizePrototypeMethods.java",
        "src/com/google/javascript/jscomp/DiagnosticGroup.java",
        "src/com/google/javascript/jscomp/DiagnosticGroupWarningsGuard.java",
        "src/com/google/javascript/jscomp/DiagnosticGroups.java",
        "src/com/google/javascript/jscomp/DiagnosticType.java",
        "src/com/google/javascript/jscomp/DisambiguateProperties.java",
        "src/com/google/javascript/jscomp/DotFormatter.java",
        "src/com/google/javascript/jscomp/ErrorFormat.java",
        "src/com/google/javascript/jscomp/ErrorManager.java",
        "src/com/google/javascript/jscomp/ExportTestFunctions.java",
        "src/com/google/javascript/jscomp/ExpressionDecomposer.java",
        "src/com/google/javascript/jscomp/ExternExportsPass.java",
        "src/com/google/javascript/jscomp/ExtractPrototypeMemberDeclarations.java",
        "src/com/google/javascript/jscomp/FindExportableNodes.java",
        "src/com/google/javascript/jscomp/FlowScope.java",
        "src/com/google/javascript/jscomp/FlowSensitiveInlineVariables.java",
        "src/com/google/javascript/jscomp/FoldConstants.java",
        "src/com/google/javascript/jscomp/FunctionArgumentInjector.java",
        "src/com/google/javascript/jscomp/FunctionCheck.java",
        "src/com/google/javascript/jscomp/FunctionInjector.java",
        "src/com/google/javascript/jscomp/FunctionNames.java",
        "src/com/google/javascript/jscomp/FunctionRewriter.java",
        "src/com/google/javascript/jscomp/FunctionToBlockMutator.java",
        "src/com/google/javascript/jscomp/FunctionTypeBuilder.java",
        "src/com/google/javascript/jscomp/GatherSideEffectSubexpressionsCallback.java",
        "src/com/google/javascript/jscomp/GenerateExports.java",
        "src/com/google/javascript/jscomp/GlobalNamespace.java",
        "src/com/google/javascript/jscomp/GoogleCodeRemoval.java",
        "src/com/google/javascript/jscomp/GoogleCodingConvention.java",
        "src/com/google/javascript/jscomp/InferJSDocInfo.java",
        "src/com/google/javascript/jscomp/InlineCostEstimator.java",
        "src/com/google/javascript/jscomp/InlineFunctions.java",
        "src/com/google/javascript/jscomp/InlineGetters.java",
        "src/com/google/javascript/jscomp/InlineVariables.java",
        "src/com/google/javascript/jscomp/InstrumentFunctions.java",
        "src/com/google/javascript/jscomp/InvocationsCallback.java",
        "src/com/google/javascript/jscomp/JSError.java",
        "src/com/google/javascript/jscomp/JSModule.java",
        "src/com/google/javascript/jscomp/JSModuleGraph.java",
        "src/com/google/javascript/jscomp/JSSourceFile.java",
        "src/com/google/javascript/jscomp/JsAst.java",
        "src/com/google/javascript/jscomp/LightweightMessageFormatter.java",
        "src/com/google/javascript/jscomp/LineNumberCheck.java",
        "src/com/google/javascript/jscomp/LinkedFlowScope.java",
        "src/com/google/javascript/jscomp/LiveVariablesAnalysis.java",
        "src/com/google/javascript/jscomp/LocaleUtil.java",
        "src/com/google/javascript/jscomp/LoggerErrorManager.java",
        "src/com/google/javascript/jscomp/MakeDeclaredNamesUnique.java",
        "src/com/google/javascript/jscomp/MarkNoSideEffectCalls.java",
        "src/com/google/javascript/jscomp/MaybeReachingVariableUse.java",
        "src/com/google/javascript/jscomp/MemoizedScopeCreator.java",
        "src/com/google/javascript/jscomp/MessageFormatter.java",
        "src/com/google/javascript/jscomp/MethodCheck.java",
        "src/com/google/javascript/jscomp/MethodCompilerPass.java",
        "src/com/google/javascript/jscomp/MinimizeExitPoints.java",
        "src/com/google/javascript/jscomp/MoveFunctionDeclarations.java",
        "src/com/google/javascript/jscomp/MustBeReachingVariableDef.java",
        "src/com/google/javascript/jscomp/NameAnalyzer.java",
        "src/com/google/javascript/jscomp/NameAnonymousFunctions.java",
        "src/com/google/javascript/jscomp/NameAnonymousFunctionsMapped.java",
        "src/com/google/javascript/jscomp/NameGenerator.java",
        "src/com/google/javascript/jscomp/NameReferenceGraph.java",
        "src/com/google/javascript/jscomp/NameReferenceGraphConstruction.java",
        "src/com/google/javascript/jscomp/NodeIterators.java",
        "src/com/google/javascript/jscomp/NodeNameExtractor.java",
        "src/com/google/javascript/jscomp/NodeTraversal.java",
        "src/com/google/javascript/jscomp/NodeTypeNormalizer.java",
        "src/com/google/javascript/jscomp/NodeUtil.java",
        "src/com/google/javascript/jscomp/Normalize.java",
        "src/com/google/javascript/jscomp/ObjectPropertyStringPostprocess.java",
        "src/com/google/javascript/jscomp/ObjectPropertyStringPreprocess.java",
        "src/com/google/javascript/jscomp/OptimizeArgumentsArray.java",
        "src/com/google/javascript/jscomp/OptimizeParameters.java",
        "src/com/google/javascript/jscomp/ParallelCompilerPass.java",
        "src/com/google/javascript/jscomp/PassConfig.java",
        "src/com/google/javascript/jscomp/PassFactory.java",
        "src/com/google/javascript/jscomp/PerformanceTracker.java",
        "src/com/google/javascript/jscomp/PhaseOptimizer.java",
        "src/com/google/javascript/jscomp/Position.java",
        "src/com/google/javascript/jscomp/PotentialCheck.java",
        "src/com/google/javascript/jscomp/PotentialCheckManager.java",
        "src/com/google/javascript/jscomp/PrintStreamErrorManager.java",
        "src/com/google/javascript/jscomp/ProcessClosurePrimitives.java",
        "src/com/google/javascript/jscomp/ProcessDefines.java",
        "src/com/google/javascript/jscomp/PropertyRenamingPolicy.java",
        "src/com/google/javascript/jscomp/PureFunctionIdentifier.java",
        "src/com/google/javascript/jscomp/RecordFunctionInformation.java",
        "src/com/google/javascript/jscomp/ReferenceCollectingCallback.java",
        "src/com/google/javascript/jscomp/Region.java",
        "src/com/google/javascript/jscomp/RemoveConstantExpressions.java",
        "src/com/google/javascript/jscomp/RemoveConstantExpressionsParallel.java",
        "src/com/google/javascript/jscomp/RemoveTryCatch.java",
        "src/com/google/javascript/jscomp/RemoveUnusedNames.java",
        "src/com/google/javascript/jscomp/RemoveUnusedPrototypeProperties.java",
        "src/com/google/javascript/jscomp/RemoveUnusedVars.java",
        "src/com/google/javascript/jscomp/RenameLabels.java",
        "src/com/google/javascript/jscomp/RenameProperties.java",
        "src/com/google/javascript/jscomp/RenamePrototypes.java",
        "src/com/google/javascript/jscomp/RenameVars.java",
        "src/com/google/javascript/jscomp/ReplaceCssNames.java",
        "src/com/google/javascript/jscomp/ReplaceIdGenerators.java",
        "src/com/google/javascript/jscomp/Result.java",
        "src/com/google/javascript/jscomp/ReverseAbstractInterpreter.java",
        "src/com/google/javascript/jscomp/RhinoErrorReporter.java",
        "src/com/google/javascript/jscomp/SanityCheck.java",
        "src/com/google/javascript/jscomp/Scope.java",
        "src/com/google/javascript/jscomp/ScopeCreator.java",
        "src/com/google/javascript/jscomp/SemanticReverseAbstractInterpreter.java",
        "src/com/google/javascript/jscomp/ShowByPathWarningsGuard.java",
        "src/com/google/javascript/jscomp/SimpleDefinitionFinder.java",
        "src/com/google/javascript/jscomp/SimpleRegion.java",
        "src/com/google/javascript/jscomp/SourceAst.java",
        "src/com/google/javascript/jscomp/SourceExcerptProvider.java",
        "src/com/google/javascript/jscomp/SourceFile.java",
        "src/com/google/javascript/jscomp/SourceInformationAnnotator.java",
        "src/com/google/javascript/jscomp/SourceMap.java",
        "src/com/google/javascript/jscomp/StrictModeCheck.java",
        "src/com/google/javascript/jscomp/StrictWarningsGuard.java",
        "src/com/google/javascript/jscomp/StripCode.java",
        "src/com/google/javascript/jscomp/SuspiciousPropertiesCheck.java",
        "src/com/google/javascript/jscomp/SymbolTable.java",
        "src/com/google/javascript/jscomp/SyntacticScopeCreator.java",
        "src/com/google/javascript/jscomp/SyntheticAst.java",
        "src/com/google/javascript/jscomp/TightenTypes.java",
        "src/com/google/javascript/jscomp/TypeCheck.java",
        "src/com/google/javascript/jscomp/TypeInference.java",
        "src/com/google/javascript/jscomp/TypeInferencePass.java",
        "src/com/google/javascript/jscomp/TypeValidator.java",
        "src/com/google/javascript/jscomp/TypedCodeGenerator.java",
        "src/com/google/javascript/jscomp/TypedScopeCreator.java",
        "src/com/google/javascript/jscomp/UnreachableCodeElimination.java",
        "src/com/google/javascript/jscomp/UseSite.java",
        "src/com/google/javascript/jscomp/VarCheck.java",
        "src/com/google/javascript/jscomp/VariableMap.java",
        "src/com/google/javascript/jscomp/VariableNameGenerator.java",
        "src/com/google/javascript/jscomp/VariableReferenceCheck.java",
        "src/com/google/javascript/jscomp/VariableRenamingPolicy.java",
        "src/com/google/javascript/jscomp/VariableShadowDeclarationCheck.java",
        "src/com/google/javascript/jscomp/VerboseMessageFormatter.java",
        "src/com/google/javascript/jscomp/WarningsGuard.java",
        "src/com/google/javascript/jscomp/graph/AdjacencyGraph.java",
        "src/com/google/javascript/jscomp/graph/Annotatable.java",
        "src/com/google/javascript/jscomp/graph/Annotation.java",
        "src/com/google/javascript/jscomp/graph/DiGraph.java",
        "src/com/google/javascript/jscomp/graph/FixedPointGraphTraversal.java",
        "src/com/google/javascript/jscomp/graph/Graph.java",
        "src/com/google/javascript/jscomp/graph/GraphColoring.java",
        "src/com/google/javascript/jscomp/graph/GraphNode.java",
        "src/com/google/javascript/jscomp/graph/GraphReachability.java",
        "src/com/google/javascript/jscomp/graph/GraphvizGraph.java",
        "src/com/google/javascript/jscomp/graph/LinkedDirectedGraph.java",
        "src/com/google/javascript/jscomp/graph/LinkedUndirectedGraph.java",
        "src/com/google/javascript/jscomp/graph/StandardUnionFind.java",
        "src/com/google/javascript/jscomp/graph/SubGraph.java",
        "src/com/google/javascript/jscomp/graph/UndiGraph.java",
        "src/com/google/javascript/jscomp/graph/UnionFind.java",
        "src/com/google/javascript/jscomp/parsing/Config.java",
        "src/com/google/javascript/jscomp/parsing/IRFactory.java",
        "src/com/google/javascript/jscomp/parsing/JsDocInfoParser.java",
        "src/com/google/javascript/jscomp/parsing/JsDocToken.java",
        "src/com/google/javascript/jscomp/parsing/JsDocTokenStream.java",
        "src/com/google/javascript/jscomp/parsing/NullErrorReporter.java",
        "src/com/google/javascript/jscomp/parsing/ParserRunner.java",
        "src/com/google/javascript/jscomp/parsing/TypeSafeDispatcher.java",
        "src/com/google/javascript/rhino/CompilerEnvirons.java",
        "src/com/google/javascript/rhino/Context.java",
        "src/com/google/javascript/rhino/DToA.java",
        "src/com/google/javascript/rhino/Decompiler.java",
        "src/com/google/javascript/rhino/EcmaError.java",
        "src/com/google/javascript/rhino/ErrorReporter.java",
        "src/com/google/javascript/rhino/EvaluatorException.java",
        "src/com/google/javascript/rhino/FunctionNode.java",
        "src/com/google/javascript/rhino/IRFactory.java",
        "src/com/google/javascript/rhino/JSDocInfo.java",
        "src/com/google/javascript/rhino/JSDocInfoBuilder.java",
        "src/com/google/javascript/rhino/JSTypeExpression.java",
        "src/com/google/javascript/rhino/JavaScriptException.java",
        "src/com/google/javascript/rhino/Kit.java",
        "src/com/google/javascript/rhino/Node.java",
        "src/com/google/javascript/rhino/ObjArray.java",
        "src/com/google/javascript/rhino/ObjToIntMap.java",
        "src/com/google/javascript/rhino/Parser.java",
        "src/com/google/javascript/rhino/RhinoException.java",
        "src/com/google/javascript/rhino/ScriptOrFnNode.java",
        "src/com/google/javascript/rhino/ScriptRuntime.java",
        "src/com/google/javascript/rhino/SimpleErrorReporter.java",
        "src/com/google/javascript/rhino/SourcePosition.java",
        "src/com/google/javascript/rhino/Token.java",
        "src/com/google/javascript/rhino/TokenStream.java",
        "src/com/google/javascript/rhino/UintMap.java",
        "src/com/google/javascript/rhino/UniqueTag.java",
        "src/com/google/javascript/rhino/jstype/AllType.java",
        "src/com/google/javascript/rhino/jstype/ArrowType.java",
        "src/com/google/javascript/rhino/jstype/BooleanLiteralSet.java",
        "src/com/google/javascript/rhino/jstype/BooleanType.java",
        "src/com/google/javascript/rhino/jstype/EnumElementType.java",
        "src/com/google/javascript/rhino/jstype/EnumType.java",
        "src/com/google/javascript/rhino/jstype/ErrorFunctionType.java",
        "src/com/google/javascript/rhino/jstype/FunctionParamBuilder.java",
        "src/com/google/javascript/rhino/jstype/FunctionPrototypeType.java",
        "src/com/google/javascript/rhino/jstype/FunctionType.java",
        "src/com/google/javascript/rhino/jstype/IndexedType.java",
        "src/com/google/javascript/rhino/jstype/InstanceObjectType.java",
        "src/com/google/javascript/rhino/jstype/JSType.java",
        "src/com/google/javascript/rhino/jstype/JSTypeNative.java",
        "src/com/google/javascript/rhino/jstype/JSTypeRegistry.java",
        "src/com/google/javascript/rhino/jstype/NamedType.java",
        "src/com/google/javascript/rhino/jstype/NoObjectType.java",
        "src/com/google/javascript/rhino/jstype/NoType.java",
        "src/com/google/javascript/rhino/jstype/NullType.java",
        "src/com/google/javascript/rhino/jstype/NumberType.java",
        "src/com/google/javascript/rhino/jstype/ObjectType.java",
        "src/com/google/javascript/rhino/jstype/ParameterizedType.java",
        "src/com/google/javascript/rhino/jstype/PrototypeObjectType.java",
        "src/com/google/javascript/rhino/jstype/ProxyObjectType.java",
        "src/com/google/javascript/rhino/jstype/RecordType.java",
        "src/com/google/javascript/rhino/jstype/RecordTypeBuilder.java",
        "src/com/google/javascript/rhino/jstype/SimpleSlot.java",
        "src/com/google/javascript/rhino/jstype/StaticScope.java",
        "src/com/google/javascript/rhino/jstype/StaticSlot.java",
        "src/com/google/javascript/rhino/jstype/StringType.java",
        "src/com/google/javascript/rhino/jstype/TemplateType.java",
        "src/com/google/javascript/rhino/jstype/TernaryValue.java",
        "src/com/google/javascript/rhino/jstype/UnionType.java",
        "src/com/google/javascript/rhino/jstype/UnionTypeBuilder.java",
        "src/com/google/javascript/rhino/jstype/UnknownType.java",
        "src/com/google/javascript/rhino/jstype/ValueType.java",
        "src/com/google/javascript/rhino/jstype/Visitor.java",
        "src/com/google/javascript/rhino/jstype/VoidType.java"
      ],
      "num": 297
    },
    "delete_classes": {
      "qualified_names": [],
      "num": 0
    },
    "add_functions": {
      "qualified_names": [],
      "num": 0
    },
    "delete_functions": {
      "qualified_names": [],
      "num": 0
    }
  },
  "trigger_tests": [
    {
      "test_class": "com.google.javascript.jscomp.PeepholeFoldConstantsTest",
      "test_function": "testFoldComparison3",
      "assertion_line": "700",
      "exception": "junit.framework.AssertionFailedError",
      "message": "Expected: x\u003dfalse\nResult: x\u003d!1\u003d\u003d!0"
    },
    {
      "test_class": "com.google.javascript.jscomp.PeepholeFoldConstantsTest",
      "test_function": "testInvertibleOperators",
      "assertion_line": "1184",
      "exception": "junit.framework.ComparisonFailure",
      "message": "Expressions did not fold the same"
    },
    {
      "test_class": "com.google.javascript.jscomp.PeepholeFoldConstantsTest",
      "test_function": "testCommutativeOperators",
      "assertion_line": "1184",
      "exception": "junit.framework.ComparisonFailure",
      "message": "Expressions did not fold the same"
    }
  ],
  "fixing_changes": [
    {
      "changed_type": "UPDATE",
      "changed_class": [
        "src/com/google/javascript/jscomp/PeepholeFoldConstants.java",
        "src/com/google/javascript/jscomp/PeepholeFoldConstants.java"
      ],
      "changed_functions": [
        {
          "qualified_names": [
            "com.google.javascript.jscomp.PeepholeFoldConstants:tryFoldComparison:[Node n, Node left, Node right]:Node",
            "com.google.javascript.jscomp.PeepholeFoldConstants:compareAsNumbers:[int op, Node left, Node right]:Boolean"
          ],
          "num": 2
        },
        {
          "qualified_names": [
            "com.google.javascript.jscomp.PeepholeFoldConstants:compareAsNumbers:[int op, Node left, Node right]:Boolean",
            "com.google.javascript.jscomp.PeepholeFoldConstants:getNormalizedNodeType:[Node n]:int",
            "com.google.javascript.jscomp.PeepholeFoldConstants:tryFoldComparison:[Node n, Node left, Node right]:Node"
          ],
          "num": 3
        }
      ],
      "changed_lines": [
        {
          "qualified_names": [
            "907",
            "908",
            "926",
            "935",
            "940",
            "1071"
          ],
          "num": 6
        },
        {
          "qualified_names": [
            "907",
            "908",
            "909",
            "924",
            "935",
            "940",
            "1072",
            "1073",
            "1074",
            "1075",
            "1076",
            "1077",
            "1078",
            "1079",
            "1080",
            "1081",
            "1082",
            "1083",
            "1084",
            "1085",
            "1086",
            "1087",
            "1088"
          ],
          "num": 23
        }
      ],
      "diff": "diff --git a/src/com/google/javascript/jscomp/PeepholeFoldConstants.java b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java\nindex 4295d9c..9d2f97a 100644\n--- a/src/com/google/javascript/jscomp/PeepholeFoldConstants.java\n+++ b/src/com/google/javascript/jscomp/PeepholeFoldConstants.java\n@@ -904,8 +904,9 @@\n           \u0026\u0026 right.getString().equals(\"undefined\"))\n           || (Token.VOID \u003d\u003d right.getType()\n               \u0026\u0026 NodeUtil.isLiteralValue(right.getFirstChild(), false)));\n-\n-    switch (left.getType()) {\n+    int lhType \u003d getNormalizedNodeType(left);\n+    int rhType \u003d getNormalizedNodeType(right);\n+    switch (lhType) {\n       case Token.VOID:\n         if (!NodeUtil.isLiteralValue(left.getFirstChild(), false)) {\n           return n;\n@@ -923,7 +924,6 @@\n           result \u003d compareToUndefined(left, op);\n           break;\n         }\n-        int rhType \u003d right.getType();\n         if (rhType !\u003d Token.TRUE \u0026\u0026\n             rhType !\u003d Token.FALSE \u0026\u0026\n             rhType !\u003d Token.NULL) {\n@@ -932,12 +932,12 @@\n         switch (op) {\n           case Token.SHEQ:\n           case Token.EQ:\n-            result \u003d left.getType() \u003d\u003d right.getType();\n+            result \u003d lhType \u003d\u003d rhType;\n             break;\n \n           case Token.SHNE:\n           case Token.NE:\n-            result \u003d left.getType() !\u003d right.getType();\n+            result \u003d lhType !\u003d rhType;\n             break;\n \n           case Token.GE:\n@@ -1069,6 +1069,23 @@\n   }\n \n   /**\n+   * @return Translate NOT expressions into TRUE or FALSE when possible.\n+   */\n+  private int getNormalizedNodeType(Node n) {\n+    int type \u003d n.getType();\n+    if (type \u003d\u003d Token.NOT) {\n+      TernaryValue value \u003d NodeUtil.getPureBooleanValue(n);\n+      switch (value) {\n+        case TRUE:\n+          return Token.TRUE;\n+        case FALSE:\n+          return Token.FALSE;\n+      }\n+    }\n+    return type;\n+  }\n+\n+  /**\n    * The result of the comparison as a Boolean or null if the\n    * result could not be determined.\n    */\n",
      "operations": [
        {
          "type": "insert-tree",
          "from": "",
          "to": "MethodDeclaration [31269,31670]"
        },
        {
          "type": "insert-tree",
          "from": "",
          "to": "VariableDeclarationStatement [26939,26980]"
        },
        {
          "type": "insert-tree",
          "from": "",
          "to": "VariableDeclarationStatement [26985,27027]"
        },
        {
          "type": "insert-node",
          "from": "",
          "to": "SimpleName: lhType [27040,27046]"
        },
        {
          "type": "insert-node",
          "from": "",
          "to": "SimpleName: lhType [27721,27727]"
        },
        {
          "type": "insert-node",
          "from": "",
          "to": "SimpleName: rhType [27731,27737]"
        },
        {
          "type": "insert-node",
          "from": "",
          "to": "SimpleName: lhType [27832,27838]"
        },
        {
          "type": "insert-node",
          "from": "",
          "to": "SimpleName: rhType [27842,27848]"
        },
        {
          "type": "delete-tree",
          "from": "MethodInvocation [26948,26962]",
          "to": ""
        },
        {
          "type": "delete-tree",
          "from": "VariableDeclarationStatement [27411,27440]",
          "to": ""
        },
        {
          "type": "delete-tree",
          "from": "MethodInvocation [27675,27689]",
          "to": ""
        },
        {
          "type": "delete-tree",
          "from": "MethodInvocation [27693,27708]",
          "to": ""
        },
        {
          "type": "delete-tree",
          "from": "MethodInvocation [27803,27817]",
          "to": ""
        },
        {
          "type": "delete-tree",
          "from": "MethodInvocation [27821,27836]",
          "to": ""
        }
      ]
    }
  ],
  "fixing_type": {
    "add_classes": {
      "qualified_names": [],
      "num": 0
    },
    "delete_classes": {
      "qualified_names": [],
      "num": 0
    },
    "add_functions": {
      "qualified_names": [
        "com.google.javascript.jscomp.PeepholeFoldConstants:getNormalizedNodeType:[Node n]:int"
      ],
      "num": 1
    },
    "delete_functions": {
      "qualified_names": [],
      "num": 0
    }
  },
  "patch_changed_mths": {
    "qualified_names": [
      "com.google.javascript.jscomp.PeepholeFoldConstants:tryFoldComparison(Lcom/google/javascript/rhino/Node;Lcom/google/javascript/rhino/Node;Lcom/google/javascript/rhino/Node;)Lcom/google/javascript/rhino/Node;:regression",
      "com.google.javascript.jscomp.PeepholeFoldConstants:compareAsNumbers(ILcom/google/javascript/rhino/Node;Lcom/google/javascript/rhino/Node;)Ljava/lang/Boolean;:regression"
    ],
    "num": 2
  }
}