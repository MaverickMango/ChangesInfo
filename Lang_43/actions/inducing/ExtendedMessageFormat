===
insert-tree
---
ImportDeclaration [961,989]
    QualifiedName: java.util.Collection [968,988]
to
CompilationUnit [0,15726]
at 5
===
insert-tree
---
ImportDeclaration [990,1016]
    QualifiedName: java.util.Iterator [997,1015]
to
CompilationUnit [0,15726]
at 6
===
insert-tree
---
ImportDeclaration [1042,1063]
    QualifiedName: java.util.Map [1049,1062]
to
CompilationUnit [0,15726]
at 8
===
move-tree
---
MethodDeclaration [13955,14394]
    Javadoc [13955,14039]
        TagElement [13966,13994]
            TextElement: Apply the specified pattern. [13966,13994]
        TagElement [14010,14031]
            SimpleName: pattern [14017,14024]
            TextElement:  String [14024,14031]
    Modifier: public [14044,14050]
    Modifier: final [14051,14056]
    PrimitiveType: void [14057,14061]
    SimpleName: applyPattern [14062,14074]
    SingleVariableDeclaration [14075,14089]
        SimpleType [14075,14081]
            SimpleName: String [14075,14081]
        SimpleName: pattern [14082,14089]
    Block [14091,14394]
        IfStatement [14101,14156]
            InfixExpression [14105,14123]
                SimpleName: metaFormat [14105,14115]
                INFIX_EXPRESSION_OPERATOR: == [14116,14118]
                NullLiteral [14119,14123]
            Block [14125,14156]
                ReturnStatement [14139,14146]
        ExpressionStatement [14165,14190]
            MethodInvocation [14165,14189]
                SimpleName: applyPatternPre [14165,14180]
                METHOD_INVOCATION_ARGUMENTS [14181,14188]
                    SimpleName: pattern [14181,14188]
        ExpressionStatement [14199,14246]
            Assignment [14199,14245]
                SimpleName: strippedPattern [14199,14214]
                ASSIGNMENT_OPERATOR: = [14215,14216]
                MethodInvocation [14217,14245]
                    METHOD_INVOCATION_RECEIVER [14217,14223]
                        SimpleName: PARSER [14217,14223]
                    SimpleName: stripFormats [14224,14236]
                    METHOD_INVOCATION_ARGUMENTS [14237,14244]
                        SimpleName: pattern [14237,14244]
        ExpressionStatement [14255,14291]
            SuperMethodInvocation [14255,14290]
                SimpleName: applyPattern [14261,14273]
                SimpleName: strippedPattern [14274,14289]
        ExpressionStatement [14300,14353]
            MethodInvocation [14300,14352]
                SimpleName: setFormats [14300,14310]
                METHOD_INVOCATION_ARGUMENTS [14311,14351]
                    MethodInvocation [14311,14351]
                        METHOD_INVOCATION_RECEIVER [14311,14317]
                            SimpleName: PARSER [14311,14317]
                        SimpleName: parseFormats [14318,14330]
                        METHOD_INVOCATION_ARGUMENTS [14331,14350]
                            SimpleName: pattern [14331,14338]
                            SimpleName: metaFormat [14340,14350]
        ExpressionStatement [14362,14388]
            MethodInvocation [14362,14387]
                SimpleName: applyPatternPost [14362,14378]
                METHOD_INVOCATION_ARGUMENTS [14379,14386]
                    SimpleName: pattern [14379,14386]
to
TypeDeclaration [1073,15725]
at 17
===
insert-node
---
Javadoc [1107,1475]
to
TypeDeclaration [1073,15725]
at 0
===
insert-tree
---
FieldDeclaration [1612,1659]
    Modifier: private [1612,1619]
    Modifier: static [1620,1626]
    Modifier: final [1627,1632]
    SimpleType [1633,1639]
        SimpleName: String [1633,1639]
    VariableDeclarationFragment [1640,1658]
        SimpleName: DUMMY_PATTERN [1640,1653]
        StringLiteral: "" [1656,1658]
to
TypeDeclaration [1073,15725]
at 7
===
move-tree
---
FieldDeclaration [2764,2813]
    Modifier: private [2764,2771]
    Modifier: static [2772,2778]
    Modifier: final [2779,2784]
    SimpleType [2785,2791]
        SimpleName: String [2785,2791]
    VariableDeclarationFragment [2792,2812]
        SimpleName: ESCAPED_QUOTE [2792,2805]
        StringLiteral: "''" [2808,2812]
to
TypeDeclaration [1073,15725]
at 8
===
move-tree
---
FieldDeclaration [2822,2864]
    Modifier: private [2822,2829]
    Modifier: static [2830,2836]
    Modifier: final [2837,2842]
    PrimitiveType: char [2843,2847]
    VariableDeclarationFragment [2848,2863]
        SimpleName: START_FMT [2848,2857]
        CharacterLiteral: ',' [2860,2863]
to
TypeDeclaration [1073,15725]
at 9
===
move-tree
---
FieldDeclaration [2873,2912]
    Modifier: private [2873,2880]
    Modifier: static [2881,2887]
    Modifier: final [2888,2893]
    PrimitiveType: char [2894,2898]
    VariableDeclarationFragment [2899,2911]
        SimpleName: END_FE [2899,2905]
        CharacterLiteral: '}' [2908,2911]
to
TypeDeclaration [1073,15725]
at 10
===
move-tree
---
FieldDeclaration [2921,2962]
    Modifier: private [2921,2928]
    Modifier: static [2929,2935]
    Modifier: final [2936,2941]
    PrimitiveType: char [2942,2946]
    VariableDeclarationFragment [2947,2961]
        SimpleName: START_FE [2947,2955]
        CharacterLiteral: '{' [2958,2961]
to
TypeDeclaration [1073,15725]
at 11
===
move-tree
---
FieldDeclaration [2971,3010]
    Modifier: private [2971,2978]
    Modifier: static [2979,2985]
    Modifier: final [2986,2991]
    PrimitiveType: char [2992,2996]
    VariableDeclarationFragment [2997,3009]
        SimpleName: QUOTE [2997,3002]
        CharacterLiteral: '\'' [3005,3009]
to
TypeDeclaration [1073,15725]
at 12
===
insert-tree
---
FieldDeclaration [1900,1925]
    Modifier: private [1900,1907]
    SimpleType [1908,1914]
        SimpleName: String [1908,1914]
    VariableDeclarationFragment [1915,1924]
        SimpleName: toPattern [1915,1924]
to
TypeDeclaration [1073,15725]
at 13
===
insert-tree
---
MethodDeclaration [1957,2238]
    Javadoc [1957,2137]
        TagElement [1968,2026]
            TextElement: Create a new ExtendedMessageFormat for the default locale. [1968,2026]
        TagElement [2042,2063]
            SimpleName: pattern [2049,2056]
            TextElement:  String [2056,2063]
        TagElement [2071,2129]
            SimpleName: IllegalArgumentException [2079,2103]
            TextElement:  in case of a bad pattern. [2103,2129]
    Modifier: public [2142,2148]
    SimpleName: ExtendedMessageFormat [2149,2170]
    SingleVariableDeclaration [2171,2185]
        SimpleType [2171,2177]
            SimpleName: String [2171,2177]
        SimpleName: pattern [2178,2185]
    Block [2187,2238]
        ConstructorInvocation [2197,2232]
            SimpleName: pattern [2202,2209]
            MethodInvocation [2211,2230]
                METHOD_INVOCATION_RECEIVER [2211,2217]
                    SimpleName: Locale [2211,2217]
                SimpleName: getDefault [2218,2228]
to
TypeDeclaration [1073,15725]
at 19
===
insert-tree
---
MethodDeclaration [2244,2538]
    Javadoc [2244,2429]
        TagElement [2255,2290]
            TextElement: Create a new ExtendedMessageFormat. [2255,2290]
        TagElement [2306,2327]
            SimpleName: pattern [2313,2320]
            TextElement:  String [2320,2327]
        TagElement [2335,2355]
            SimpleName: locale [2342,2348]
            TextElement:  Locale [2348,2355]
        TagElement [2363,2421]
            SimpleName: IllegalArgumentException [2371,2395]
            TextElement:  in case of a bad pattern. [2395,2421]
    Modifier: public [2434,2440]
    SimpleName: ExtendedMessageFormat [2441,2462]
    SingleVariableDeclaration [2463,2477]
        SimpleType [2463,2469]
            SimpleName: String [2463,2469]
        SimpleName: pattern [2470,2477]
    SingleVariableDeclaration [2479,2492]
        SimpleType [2479,2485]
            SimpleName: Locale [2479,2485]
        SimpleName: locale [2486,2492]
    Block [2494,2538]
        ConstructorInvocation [2504,2532]
            SimpleName: pattern [2509,2516]
            SimpleName: locale [2518,2524]
            NullLiteral [2526,2530]
to
TypeDeclaration [1073,15725]
at 20
===
insert-tree
---
MethodDeclaration [2936,3391]
    Javadoc [2936,3202]
        TagElement [2947,2982]
            TextElement: Create a new ExtendedMessageFormat. [2947,2982]
        TagElement [2998,3019]
            SimpleName: pattern [3005,3012]
            TextElement:  String [3012,3019]
        TagElement [3027,3047]
            SimpleName: locale [3034,3040]
            TextElement:  Locale [3040,3047]
        TagElement [3055,3128]
            SimpleName: registry [3062,3070]
            TextElement:  Registry of format factories:  Map<String, FormatFactory> [3070,3128]
        TagElement [3136,3194]
            SimpleName: IllegalArgumentException [3144,3168]
            TextElement:  in case of a bad pattern. [3168,3194]
    Modifier: public [3207,3213]
    SimpleName: ExtendedMessageFormat [3214,3235]
    SingleVariableDeclaration [3236,3250]
        SimpleType [3236,3242]
            SimpleName: String [3236,3242]
        SimpleName: pattern [3243,3250]
    SingleVariableDeclaration [3252,3265]
        SimpleType [3252,3258]
            SimpleName: Locale [3252,3258]
        SimpleName: locale [3259,3265]
    SingleVariableDeclaration [3267,3279]
        SimpleType [3267,3270]
            SimpleName: Map [3267,3270]
        SimpleName: registry [3271,3279]
    Block [3281,3391]
        SuperConstructorInvocation [3291,3320]
            SimpleName: DUMMY_PATTERN [3297,3310]
            SimpleName: locale [3312,3318]
        ExpressionStatement [3329,3354]
            Assignment [3329,3353]
                FieldAccess [3329,3342]
                    ThisExpression [3329,3333]
                    SimpleName: registry [3334,3342]
                ASSIGNMENT_OPERATOR: = [3343,3344]
                SimpleName: registry [3345,3353]
        ExpressionStatement [3363,3385]
            MethodInvocation [3363,3384]
                SimpleName: applyPattern [3363,3375]
                METHOD_INVOCATION_ARGUMENTS [3376,3383]
                    SimpleName: pattern [3376,3383]
to
TypeDeclaration [1073,15725]
at 23
===
insert-tree
---
MethodDeclaration [6199,6377]
    Javadoc [6199,6250]
        TagElement [6210,6242]
            TagElement [6210,6223]
            TextElement: UNSUPPORTED [6231,6242]
    Modifier: public [6255,6261]
    PrimitiveType: void [6262,6266]
    SimpleName: setFormat [6267,6276]
    SingleVariableDeclaration [6277,6299]
        PrimitiveType: int [6277,6280]
        SimpleName: formatElementIndex [6281,6299]
    SingleVariableDeclaration [6301,6317]
        SimpleType [6301,6307]
            SimpleName: Format [6301,6307]
        SimpleName: newFormat [6308,6317]
    Block [6319,6377]
        ThrowStatement [6329,6371]
            ClassInstanceCreation [6335,6370]
                SimpleType [6339,6368]
                    SimpleName: UnsupportedOperationException [6339,6368]
to
TypeDeclaration [1073,15725]
at 29
===
insert-tree
---
MethodDeclaration [6383,6571]
    Javadoc [6383,6434]
        TagElement [6394,6426]
            TagElement [6394,6407]
            TextElement: UNSUPPORTED [6415,6426]
    Modifier: public [6439,6445]
    PrimitiveType: void [6446,6450]
    SimpleName: setFormatByArgumentIndex [6451,6475]
    SingleVariableDeclaration [6476,6493]
        PrimitiveType: int [6476,6479]
        SimpleName: argumentIndex [6480,6493]
    SingleVariableDeclaration [6495,6511]
        SimpleType [6495,6501]
            SimpleName: Format [6495,6501]
        SimpleName: newFormat [6502,6511]
    Block [6513,6571]
        ThrowStatement [6523,6565]
            ClassInstanceCreation [6529,6564]
                SimpleType [6533,6562]
                    SimpleName: UnsupportedOperationException [6533,6562]
to
TypeDeclaration [1073,15725]
at 30
===
insert-tree
---
MethodDeclaration [6577,6735]
    Javadoc [6577,6628]
        TagElement [6588,6620]
            TagElement [6588,6601]
            TextElement: UNSUPPORTED [6609,6620]
    Modifier: public [6633,6639]
    PrimitiveType: void [6640,6644]
    SimpleName: setFormats [6645,6655]
    SingleVariableDeclaration [6656,6675]
        ArrayType [6656,6664]
            SimpleType [6656,6662]
                SimpleName: Format [6656,6662]
            Dimension [6662,6664]
        SimpleName: newFormats [6665,6675]
    Block [6677,6735]
        ThrowStatement [6687,6729]
            ClassInstanceCreation [6693,6728]
                SimpleType [6697,6726]
                    SimpleName: UnsupportedOperationException [6697,6726]
to
TypeDeclaration [1073,15725]
at 31
===
insert-tree
---
MethodDeclaration [6741,6914]
    Javadoc [6741,6792]
        TagElement [6752,6784]
            TagElement [6752,6765]
            TextElement: UNSUPPORTED [6773,6784]
    Modifier: public [6797,6803]
    PrimitiveType: void [6804,6808]
    SimpleName: setFormatsByArgumentIndex [6809,6834]
    SingleVariableDeclaration [6835,6854]
        ArrayType [6835,6843]
            SimpleType [6835,6841]
                SimpleName: Format [6835,6841]
            Dimension [6841,6843]
        SimpleName: newFormats [6844,6854]
    Block [6856,6914]
        ThrowStatement [6866,6908]
            ClassInstanceCreation [6872,6907]
                SimpleType [6876,6905]
                    SimpleName: UnsupportedOperationException [6876,6905]
to
TypeDeclaration [1073,15725]
at 32
===
insert-tree
---
MethodDeclaration [6920,7595]
    Javadoc [6920,7041]
        TagElement [6931,6977]
            TextElement: Get a custom format from a format description. [6931,6977]
        TagElement [6993,7011]
            SimpleName: desc [7000,7004]
            TextElement:  String [7004,7011]
        TagElement [7019,7033]
            TextElement:  Format [7026,7033]
    Modifier: private [7046,7053]
    SimpleType [7054,7060]
        SimpleName: Format [7054,7060]
    SimpleName: getFormat [7061,7070]
    SingleVariableDeclaration [7071,7082]
        SimpleType [7071,7077]
            SimpleName: String [7071,7077]
        SimpleName: desc [7078,7082]
    Block [7084,7595]
        IfStatement [7094,7568]
            InfixExpression [7098,7114]
                SimpleName: registry [7098,7106]
                INFIX_EXPRESSION_OPERATOR: != [7107,7109]
                NullLiteral [7110,7114]
            Block [7116,7568]
                VariableDeclarationStatement [7130,7149]
                    SimpleType [7130,7136]
                        SimpleName: String [7130,7136]
                    VariableDeclarationFragment [7137,7148]
                        SimpleName: name [7137,7141]
                        SimpleName: desc [7144,7148]
                VariableDeclarationStatement [7162,7181]
                    SimpleType [7162,7168]
                        SimpleName: String [7162,7168]
                    VariableDeclarationFragment [7169,7180]
                        SimpleName: args [7169,7173]
                        NullLiteral [7176,7180]
                VariableDeclarationStatement [7194,7226]
                    PrimitiveType: int [7194,7197]
                    VariableDeclarationFragment [7198,7225]
                        SimpleName: i [7198,7199]
                        MethodInvocation [7202,7225]
                            METHOD_INVOCATION_RECEIVER [7202,7206]
                                SimpleName: desc [7202,7206]
                            SimpleName: indexOf [7207,7214]
                            METHOD_INVOCATION_ARGUMENTS [7215,7224]
                                SimpleName: START_FMT [7215,7224]
                IfStatement [7239,7370]
                    InfixExpression [7243,7248]
                        SimpleName: i [7243,7244]
                        INFIX_EXPRESSION_OPERATOR: > [7245,7246]
                        NumberLiteral: 0 [7247,7248]
                    Block [7250,7370]
                        ExpressionStatement [7268,7303]
                            Assignment [7268,7302]
                                SimpleName: name [7268,7272]
                                ASSIGNMENT_OPERATOR: = [7273,7274]
                                MethodInvocation [7275,7302]
                                    METHOD_INVOCATION_RECEIVER [7275,7295]
                                        MethodInvocation [7275,7295]
                                            METHOD_INVOCATION_RECEIVER [7275,7279]
                                                SimpleName: desc [7275,7279]
                                            SimpleName: substring [7280,7289]
                                            METHOD_INVOCATION_ARGUMENTS [7290,7294]
                                                NumberLiteral: 0 [7290,7291]
                                                SimpleName: i [7293,7294]
                                    SimpleName: trim [7296,7300]
                        ExpressionStatement [7320,7356]
                            Assignment [7320,7355]
                                SimpleName: args [7320,7324]
                                ASSIGNMENT_OPERATOR: = [7325,7326]
                                MethodInvocation [7327,7355]
                                    METHOD_INVOCATION_RECEIVER [7327,7348]
                                        MethodInvocation [7327,7348]
                                            METHOD_INVOCATION_RECEIVER [7327,7331]
                                                SimpleName: desc [7327,7331]
                                            SimpleName: substring [7332,7341]
                                            METHOD_INVOCATION_ARGUMENTS [7342,7347]
                                                InfixExpression [7342,7347]
                                                    SimpleName: i [7342,7343]
                                                    INFIX_EXPRESSION_OPERATOR: + [7344,7345]
                                                    NumberLiteral: 1 [7346,7347]
                                    SimpleName: trim [7349,7353]
                VariableDeclarationStatement [7383,7442]
                    SimpleType [7383,7396]
                        SimpleName: FormatFactory [7383,7396]
                    VariableDeclarationFragment [7397,7441]
                        SimpleName: factory [7397,7404]
                        CastExpression [7407,7441]
                            SimpleType [7408,7421]
                                SimpleName: FormatFactory [7408,7421]
                            MethodInvocation [7423,7441]
                                METHOD_INVOCATION_RECEIVER [7423,7431]
                                    SimpleName: registry [7423,7431]
                                SimpleName: get [7432,7435]
                                METHOD_INVOCATION_ARGUMENTS [7436,7440]
                                    SimpleName: name [7436,7440]
                IfStatement [7455,7558]
                    InfixExpression [7459,7474]
                        SimpleName: factory [7459,7466]
                        INFIX_EXPRESSION_OPERATOR: != [7467,7469]
                        NullLiteral [7470,7474]
                    Block [7476,7558]
                        ReturnStatement [7494,7544]
                            MethodInvocation [7501,7543]
                                METHOD_INVOCATION_RECEIVER [7501,7508]
                                    SimpleName: factory [7501,7508]
                                SimpleName: getFormat [7509,7518]
                                METHOD_INVOCATION_ARGUMENTS [7519,7542]
                                    SimpleName: name [7519,7523]
                                    SimpleName: args [7525,7529]
                                    MethodInvocation [7531,7542]
                                        SimpleName: getLocale [7531,7540]
        ReturnStatement [7577,7589]
            NullLiteral [7584,7588]
to
TypeDeclaration [1073,15725]
at 33
===
move-tree
---
MethodDeclaration [8423,9414]
    Javadoc [8423,8649]
        TagElement [8438,8493]
            TextElement: Read the argument index from the current format element [8438,8493]
        TagElement [8517,8548]
            SimpleName: pattern [8524,8531]
            TextElement:  pattern to parse [8531,8548]
        TagElement [8560,8593]
            SimpleName: pos [8567,8570]
            TextElement:  current parse position [8570,8593]
        TagElement [8605,8637]
            TextElement:  argument index as string [8612,8637]
    Modifier: private [8658,8665]
    SimpleType [8666,8672]
        SimpleName: String [8666,8672]
    SimpleName: readArgumentIndex [8673,8690]
    SingleVariableDeclaration [8691,8705]
        SimpleType [8691,8697]
            SimpleName: String [8691,8697]
        SimpleName: pattern [8698,8705]
    SingleVariableDeclaration [8707,8724]
        SimpleType [8707,8720]
            SimpleName: ParsePosition [8707,8720]
        SimpleName: pos [8721,8724]
    Block [8726,9414]
        VariableDeclarationStatement [8740,8767]
            PrimitiveType: int [8740,8743]
            VariableDeclarationFragment [8744,8766]
                SimpleName: start [8744,8749]
                MethodInvocation [8752,8766]
                    METHOD_INVOCATION_RECEIVER [8752,8755]
                        SimpleName: pos [8752,8755]
                    SimpleName: getIndex [8756,8764]
        ForStatement [8780,9283]
            InfixExpression [8787,8820]
                MethodInvocation [8787,8801]
                    METHOD_INVOCATION_RECEIVER [8787,8790]
                        SimpleName: pos [8787,8790]
                    SimpleName: getIndex [8791,8799]
                INFIX_EXPRESSION_OPERATOR: < [8802,8803]
                MethodInvocation [8804,8820]
                    METHOD_INVOCATION_RECEIVER [8804,8811]
                        SimpleName: pattern [8804,8811]
                    SimpleName: length [8812,8818]
            MethodInvocation [8822,8831]
                SimpleName: next [8822,8826]
                METHOD_INVOCATION_ARGUMENTS [8827,8830]
                    SimpleName: pos [8827,8830]
            Block [8833,9283]
                VariableDeclarationStatement [8851,8891]
                    PrimitiveType: char [8851,8855]
                    VariableDeclarationFragment [8856,8890]
                        SimpleName: c [8856,8857]
                        MethodInvocation [8860,8890]
                            METHOD_INVOCATION_RECEIVER [8860,8867]
                                SimpleName: pattern [8860,8867]
                            SimpleName: charAt [8868,8874]
                            METHOD_INVOCATION_ARGUMENTS [8875,8889]
                                MethodInvocation [8875,8889]
                                    METHOD_INVOCATION_RECEIVER [8875,8878]
                                        SimpleName: pos [8875,8878]
                                    SimpleName: getIndex [8879,8887]
                IfStatement [8908,9031]
                    InfixExpression [8912,8941]
                        InfixExpression [8912,8926]
                            SimpleName: c [8912,8913]
                            INFIX_EXPRESSION_OPERATOR: == [8914,8916]
                            SimpleName: START_FMT [8917,8926]
                        INFIX_EXPRESSION_OPERATOR: || [8927,8929]
                        InfixExpression [8930,8941]
                            SimpleName: c [8930,8931]
                            INFIX_EXPRESSION_OPERATOR: == [8932,8934]
                            SimpleName: END_FE [8935,8941]
                    Block [8943,9031]
                        ReturnStatement [8965,9013]
                            MethodInvocation [8972,9012]
                                METHOD_INVOCATION_RECEIVER [8972,8979]
                                    SimpleName: pattern [8972,8979]
                                SimpleName: substring [8980,8989]
                                METHOD_INVOCATION_ARGUMENTS [8990,9011]
                                    SimpleName: start [8990,8995]
                                    MethodInvocation [8997,9011]
                                        METHOD_INVOCATION_RECEIVER [8997,9000]
                                            SimpleName: pos [8997,9000]
                                        SimpleName: getIndex [9001,9009]
                IfStatement [9048,9269]
                    PrefixExpression [9052,9073]
                        PREFIX_EXPRESSION_OPERATOR: ! [9052,9053]
                        MethodInvocation [9053,9073]
                            METHOD_INVOCATION_RECEIVER [9053,9062]
                                SimpleName: Character [9053,9062]
                            SimpleName: isDigit [9063,9070]
                            METHOD_INVOCATION_ARGUMENTS [9071,9072]
                                SimpleName: c [9071,9072]
                    Block [9075,9269]
                        ThrowStatement [9097,9251]
                            ClassInstanceCreation [9103,9250]
                                SimpleType [9107,9131]
                                    SimpleName: IllegalArgumentException [9107,9131]
                                InfixExpression [9161,9249]
                                    StringLiteral: "Invalid format argument index at position " [9161,9205]
                                    INFIX_EXPRESSION_OPERATOR: + [9242,9243]
                                    SimpleName: start [9244,9249]
        ThrowStatement [9296,9404]
            ClassInstanceCreation [9302,9403]
                SimpleType [9306,9330]
                    SimpleName: IllegalArgumentException [9306,9330]
                InfixExpression [9352,9402]
                    StringLiteral: "Unterminated format element at position " [9352,9394]
                    INFIX_EXPRESSION_OPERATOR: + [9395,9396]
                    SimpleName: start [9397,9402]
to
TypeDeclaration [1073,15725]
at 34
===
move-tree
---
MethodDeclaration [11535,12517]
    Javadoc [11535,11717]
        TagElement [11550,11606]
            TextElement: Consume the entire format found at the current position. [11550,11606]
        TagElement [11630,11660]
            SimpleName: pattern [11637,11644]
            TextElement:  string to parse [11644,11660]
        TagElement [11672,11705]
            SimpleName: pos [11679,11682]
            TextElement:  current parse position [11682,11705]
    Modifier: private [11726,11733]
    PrimitiveType: void [11734,11738]
    SimpleName: eatFormat [11739,11748]
    SingleVariableDeclaration [11749,11763]
        SimpleType [11749,11755]
            SimpleName: String [11749,11755]
        SimpleName: pattern [11756,11763]
    SingleVariableDeclaration [11765,11782]
        SimpleType [11765,11778]
            SimpleName: ParsePosition [11765,11778]
        SimpleName: pos [11779,11782]
    Block [11784,12517]
        VariableDeclarationStatement [11798,11825]
            PrimitiveType: int [11798,11801]
            VariableDeclarationFragment [11802,11824]
                SimpleName: start [11802,11807]
                MethodInvocation [11810,11824]
                    METHOD_INVOCATION_RECEIVER [11810,11813]
                        SimpleName: pos [11810,11813]
                    SimpleName: getIndex [11814,11822]
        VariableDeclarationStatement [11838,11852]
            PrimitiveType: int [11838,11841]
            VariableDeclarationFragment [11842,11851]
                SimpleName: depth [11842,11847]
                NumberLiteral: 1 [11850,11851]
        ForStatement [11865,12386]
            InfixExpression [11872,11905]
                MethodInvocation [11872,11886]
                    METHOD_INVOCATION_RECEIVER [11872,11875]
                        SimpleName: pos [11872,11875]
                    SimpleName: getIndex [11876,11884]
                INFIX_EXPRESSION_OPERATOR: < [11887,11888]
                MethodInvocation [11889,11905]
                    METHOD_INVOCATION_RECEIVER [11889,11896]
                        SimpleName: pattern [11889,11896]
                    SimpleName: length [11897,11903]
            MethodInvocation [11907,11916]
                SimpleName: next [11907,11911]
                METHOD_INVOCATION_ARGUMENTS [11912,11915]
                    SimpleName: pos [11912,11915]
            Block [11918,12386]
                SwitchStatement [11936,12372]
                    MethodInvocation [11944,11974]
                        METHOD_INVOCATION_RECEIVER [11944,11951]
                            SimpleName: pattern [11944,11951]
                        SimpleName: charAt [11952,11958]
                        METHOD_INVOCATION_ARGUMENTS [11959,11973]
                            MethodInvocation [11959,11973]
                                METHOD_INVOCATION_RECEIVER [11959,11962]
                                    SimpleName: pos [11959,11962]
                                SimpleName: getIndex [11963,11971]
                    SwitchCase [11994,12008]
                        SimpleName: START_FE [11999,12007]
                    ExpressionStatement [12029,12037]
                        PostfixExpression [12029,12036]
                            SimpleName: depth [12029,12034]
                            POSTFIX_EXPRESSION_OPERATOR: ++ [12034,12036]
                    BreakStatement [12058,12064]
                    SwitchCase [12081,12093]
                        SimpleName: END_FE [12086,12092]
                    ExpressionStatement [12114,12122]
                        PostfixExpression [12114,12121]
                            SimpleName: depth [12114,12119]
                            POSTFIX_EXPRESSION_OPERATOR: -- [12119,12121]
                    IfStatement [12143,12214]
                        InfixExpression [12147,12157]
                            SimpleName: depth [12147,12152]
                            INFIX_EXPRESSION_OPERATOR: == [12153,12155]
                            NumberLiteral: 0 [12156,12157]
                        Block [12159,12214]
                            ReturnStatement [12185,12192]
                    BreakStatement [12235,12241]
                    SwitchCase [12258,12269]
                        SimpleName: QUOTE [12263,12268]
                    ExpressionStatement [12290,12327]
                        MethodInvocation [12290,12326]
                            SimpleName: getQuotedString [12290,12305]
                            METHOD_INVOCATION_ARGUMENTS [12306,12325]
                                SimpleName: pattern [12306,12313]
                                SimpleName: pos [12315,12318]
                                BooleanLiteral: false [12320,12325]
                    BreakStatement [12348,12354]
        ThrowStatement [12399,12507]
            ClassInstanceCreation [12405,12506]
                SimpleType [12409,12433]
                    SimpleName: IllegalArgumentException [12409,12433]
                InfixExpression [12455,12505]
                    StringLiteral: "Unterminated format element at position " [12455,12497]
                    INFIX_EXPRESSION_OPERATOR: + [12498,12499]
                    SimpleName: start [12500,12505]
to
TypeDeclaration [1073,15725]
at 35
===
move-tree
---
MethodDeclaration [4438,6033]
    Javadoc [4438,4709]
        TagElement [4453,4514]
            TextElement: Insert formats back into the pattern for toPattern() support. [4453,4514]
        TagElement [4538,4559]
            SimpleName: pattern [4545,4552]
            TextElement:  source [4552,4559]
        TagElement [4571,4607]
            SimpleName: formats [4578,4585]
            TextElement:  the Formats to insert [4585,4607]
        TagElement [4619,4665]
            SimpleName: metaFormat [4626,4636]
            TextElement:  Format to format the Formats [4636,4665]
        TagElement [4677,4697]
            TextElement:  full pattern [4684,4697]
    Modifier: private [4718,4725]
    SimpleType [4726,4732]
        SimpleName: String [4726,4732]
    SimpleName: insertFormats [4733,4746]
    SingleVariableDeclaration [4747,4761]
        SimpleType [4747,4753]
            SimpleName: String [4747,4753]
        SimpleName: pattern [4754,4761]
    SingleVariableDeclaration [4763,4779]
        ArrayType [4763,4771]
            SimpleType [4763,4769]
                SimpleName: Format [4763,4769]
            Dimension [4769,4771]
        SimpleName: formats [4772,4779]
    SingleVariableDeclaration [4797,4814]
        SimpleType [4797,4803]
            SimpleName: Format [4797,4803]
        SimpleName: metaFormat [4804,4814]
    Block [4816,6033]
        IfStatement [4830,4921]
            InfixExpression [4834,4872]
                InfixExpression [4834,4849]
                    SimpleName: formats [4834,4841]
                    INFIX_EXPRESSION_OPERATOR: == [4842,4844]
                    NullLiteral [4845,4849]
                INFIX_EXPRESSION_OPERATOR: || [4850,4852]
                InfixExpression [4853,4872]
                    QualifiedName: formats.length [4853,4867]
                    INFIX_EXPRESSION_OPERATOR: == [4868,4870]
                    NumberLiteral: 0 [4871,4872]
            Block [4874,4921]
                ReturnStatement [4892,4907]
                    SimpleName: pattern [4899,4906]
        VariableDeclarationStatement [4934,4991]
            SimpleType [4934,4946]
                SimpleName: StringBuffer [4934,4946]
            VariableDeclarationFragment [4947,4990]
                SimpleName: sb [4947,4949]
                ClassInstanceCreation [4952,4990]
                    SimpleType [4956,4968]
                        SimpleName: StringBuffer [4956,4968]
                    InfixExpression [4969,4989]
                        MethodInvocation [4969,4985]
                            METHOD_INVOCATION_RECEIVER [4969,4976]
                                SimpleName: pattern [4969,4976]
                            SimpleName: length [4977,4983]
                        INFIX_EXPRESSION_OPERATOR: * [4986,4987]
                        NumberLiteral: 2 [4988,4989]
        VariableDeclarationStatement [5004,5045]
            SimpleType [5004,5017]
                SimpleName: ParsePosition [5004,5017]
            VariableDeclarationFragment [5018,5044]
                SimpleName: pos [5018,5021]
                ClassInstanceCreation [5024,5044]
                    SimpleType [5028,5041]
                        SimpleName: ParsePosition [5028,5041]
                    NumberLiteral: 0 [5042,5043]
        VariableDeclarationStatement [5058,5070]
            PrimitiveType: int [5058,5061]
            VariableDeclarationFragment [5062,5069]
                SimpleName: fe [5062,5064]
                PrefixExpression [5067,5069]
                    PREFIX_EXPRESSION_OPERATOR: - [5067,5068]
                    NumberLiteral: 1 [5068,5069]
        WhileStatement [5083,5989]
            InfixExpression [5090,5123]
                MethodInvocation [5090,5104]
                    METHOD_INVOCATION_RECEIVER [5090,5093]
                        SimpleName: pos [5090,5093]
                    SimpleName: getIndex [5094,5102]
                INFIX_EXPRESSION_OPERATOR: < [5105,5106]
                MethodInvocation [5107,5123]
                    METHOD_INVOCATION_RECEIVER [5107,5114]
                        SimpleName: pattern [5107,5114]
                    SimpleName: length [5115,5121]
            Block [5125,5989]
                VariableDeclarationStatement [5143,5183]
                    PrimitiveType: char [5143,5147]
                    VariableDeclarationFragment [5148,5182]
                        SimpleName: c [5148,5149]
                        MethodInvocation [5152,5182]
                            METHOD_INVOCATION_RECEIVER [5152,5159]
                                SimpleName: pattern [5152,5159]
                            SimpleName: charAt [5160,5166]
                            METHOD_INVOCATION_ARGUMENTS [5167,5181]
                                MethodInvocation [5167,5181]
                                    METHOD_INVOCATION_RECEIVER [5167,5170]
                                        SimpleName: pos [5167,5170]
                                    SimpleName: getIndex [5171,5179]
                SwitchStatement [5200,5975]
                    SimpleName: c [5208,5209]
                    SwitchCase [5229,5240]
                        SimpleName: QUOTE [5234,5239]
                    ExpressionStatement [5261,5305]
                        MethodInvocation [5261,5304]
                            SimpleName: appendQuotedString [5261,5279]
                            METHOD_INVOCATION_ARGUMENTS [5280,5303]
                                SimpleName: pattern [5280,5287]
                                SimpleName: pos [5289,5292]
                                SimpleName: sb [5294,5296]
                                BooleanLiteral: false [5298,5303]
                    BreakStatement [5326,5332]
                    SwitchCase [5349,5363]
                        SimpleName: START_FE [5354,5362]
                    ExpressionStatement [5384,5389]
                        PostfixExpression [5384,5388]
                            SimpleName: fe [5384,5386]
                            POSTFIX_EXPRESSION_OPERATOR: ++ [5386,5388]
                    ExpressionStatement [5410,5505]
                        MethodInvocation [5410,5504]
                            METHOD_INVOCATION_RECEIVER [5410,5429]
                                MethodInvocation [5410,5429]
                                    METHOD_INVOCATION_RECEIVER [5410,5412]
                                        SimpleName: sb [5410,5412]
                                    SimpleName: append [5413,5419]
                                    METHOD_INVOCATION_ARGUMENTS [5420,5428]
                                        SimpleName: START_FE [5420,5428]
                            SimpleName: append [5430,5436]
                            METHOD_INVOCATION_ARGUMENTS [5466,5503]
                                MethodInvocation [5466,5503]
                                    SimpleName: readArgumentIndex [5466,5483]
                                    METHOD_INVOCATION_ARGUMENTS [5484,5502]
                                        SimpleName: pattern [5484,5491]
                                        MethodInvocation [5493,5502]
                                            SimpleName: next [5493,5497]
                                            METHOD_INVOCATION_ARGUMENTS [5498,5501]
                                                SimpleName: pos [5498,5501]
                    IfStatement [5526,5811]
                        InfixExpression [5530,5549]
                            ArrayAccess [5530,5541]
                                SimpleName: formats [5530,5537]
                                SimpleName: fe [5538,5540]
                            INFIX_EXPRESSION_OPERATOR: != [5542,5544]
                            NullLiteral [5545,5549]
                        Block [5551,5811]
                            VariableDeclarationStatement [5577,5628]
                                SimpleType [5577,5583]
                                    SimpleName: String [5577,5583]
                                VariableDeclarationFragment [5584,5627]
                                    SimpleName: formatName [5584,5594]
                                    MethodInvocation [5597,5627]
                                        METHOD_INVOCATION_RECEIVER [5597,5607]
                                            SimpleName: metaFormat [5597,5607]
                                        SimpleName: format [5608,5614]
                                        METHOD_INVOCATION_ARGUMENTS [5615,5626]
                                            ArrayAccess [5615,5626]
                                                SimpleName: formats [5615,5622]
                                                SimpleName: fe [5623,5625]
                            IfStatement [5653,5789]
                                MethodInvocation [5657,5691]
                                    METHOD_INVOCATION_RECEIVER [5657,5668]
                                        SimpleName: StringUtils [5657,5668]
                                    SimpleName: isNotEmpty [5669,5679]
                                    METHOD_INVOCATION_ARGUMENTS [5680,5690]
                                        SimpleName: formatName [5680,5690]
                                Block [5693,5789]
                                    ExpressionStatement [5723,5763]
                                        MethodInvocation [5723,5762]
                                            METHOD_INVOCATION_RECEIVER [5723,5743]
                                                MethodInvocation [5723,5743]
                                                    METHOD_INVOCATION_RECEIVER [5723,5725]
                                                        SimpleName: sb [5723,5725]
                                                    SimpleName: append [5726,5732]
                                                    METHOD_INVOCATION_ARGUMENTS [5733,5742]
                                                        SimpleName: START_FMT [5733,5742]
                                            SimpleName: append [5744,5750]
                                            METHOD_INVOCATION_ARGUMENTS [5751,5761]
                                                SimpleName: formatName [5751,5761]
                    BreakStatement [5832,5838]
                    SwitchCase [5855,5863]
                    ExpressionStatement [5884,5926]
                        MethodInvocation [5884,5925]
                            METHOD_INVOCATION_RECEIVER [5884,5886]
                                SimpleName: sb [5884,5886]
                            SimpleName: append [5887,5893]
                            METHOD_INVOCATION_ARGUMENTS [5894,5924]
                                MethodInvocation [5894,5924]
                                    METHOD_INVOCATION_RECEIVER [5894,5901]
                                        SimpleName: pattern [5894,5901]
                                    SimpleName: charAt [5902,5908]
                                    METHOD_INVOCATION_ARGUMENTS [5909,5923]
                                        MethodInvocation [5909,5923]
                                            METHOD_INVOCATION_RECEIVER [5909,5912]
                                                SimpleName: pos [5909,5912]
                                            SimpleName: getIndex [5913,5921]
                    ExpressionStatement [5947,5957]
                        MethodInvocation [5947,5956]
                            SimpleName: next [5947,5951]
                            METHOD_INVOCATION_ARGUMENTS [5952,5955]
                                SimpleName: pos [5952,5955]
        ReturnStatement [6002,6023]
            MethodInvocation [6009,6022]
                METHOD_INVOCATION_RECEIVER [6009,6011]
                    SimpleName: sb [6009,6011]
                SimpleName: toString [6012,6020]
to
TypeDeclaration [1073,15725]
at 36
===
move-tree
---
MethodDeclaration [7565,8107]
    Javadoc [7565,7735]
        TagElement [7580,7631]
            TextElement: Consume whitespace from the current parse position. [7580,7631]
        TagElement [7655,7684]
            SimpleName: pattern [7662,7669]
            TextElement:  String to read [7669,7684]
        TagElement [7696,7723]
            SimpleName: pos [7703,7706]
            TextElement:  current position [7706,7723]
    Modifier: private [7744,7751]
    PrimitiveType: void [7752,7756]
    SimpleName: seekNonWs [7757,7766]
    SingleVariableDeclaration [7767,7781]
        SimpleType [7767,7773]
            SimpleName: String [7767,7773]
        SimpleName: pattern [7774,7781]
    SingleVariableDeclaration [7783,7800]
        SimpleType [7783,7796]
            SimpleName: ParsePosition [7783,7796]
        SimpleName: pos [7797,7800]
    Block [7802,8107]
        VariableDeclarationStatement [7816,7828]
            PrimitiveType: int [7816,7819]
            VariableDeclarationFragment [7820,7827]
                SimpleName: len [7820,7823]
                NumberLiteral: 0 [7826,7827]
        VariableDeclarationStatement [7841,7879]
            ArrayType [7841,7847]
                PrimitiveType: char [7841,7845]
                Dimension [7845,7847]
            VariableDeclarationFragment [7848,7878]
                SimpleName: buffer [7848,7854]
                MethodInvocation [7857,7878]
                    METHOD_INVOCATION_RECEIVER [7857,7864]
                        SimpleName: pattern [7857,7864]
                    SimpleName: toCharArray [7865,7876]
        DoStatement [7892,8097]
            Block [7895,8043]
                ExpressionStatement [7913,7977]
                    Assignment [7913,7976]
                        SimpleName: len [7913,7916]
                        ASSIGNMENT_OPERATOR: = [7917,7918]
                        MethodInvocation [7919,7976]
                            METHOD_INVOCATION_RECEIVER [7919,7944]
                                MethodInvocation [7919,7944]
                                    METHOD_INVOCATION_RECEIVER [7919,7929]
                                        SimpleName: StrMatcher [7919,7929]
                                    SimpleName: splitMatcher [7930,7942]
                            SimpleName: isMatch [7945,7952]
                            METHOD_INVOCATION_ARGUMENTS [7953,7975]
                                SimpleName: buffer [7953,7959]
                                MethodInvocation [7961,7975]
                                    METHOD_INVOCATION_RECEIVER [7961,7964]
                                        SimpleName: pos [7961,7964]
                                    SimpleName: getIndex [7965,7973]
                ExpressionStatement [7994,8029]
                    MethodInvocation [7994,8028]
                        METHOD_INVOCATION_RECEIVER [7994,7997]
                            SimpleName: pos [7994,7997]
                        SimpleName: setIndex [7998,8006]
                        METHOD_INVOCATION_ARGUMENTS [8007,8027]
                            InfixExpression [8007,8027]
                                MethodInvocation [8007,8021]
                                    METHOD_INVOCATION_RECEIVER [8007,8010]
                                        SimpleName: pos [8007,8010]
                                    SimpleName: getIndex [8011,8019]
                                INFIX_EXPRESSION_OPERATOR: + [8022,8023]
                                SimpleName: len [8024,8027]
            InfixExpression [8051,8095]
                InfixExpression [8051,8058]
                    SimpleName: len [8051,8054]
                    INFIX_EXPRESSION_OPERATOR: > [8055,8056]
                    NumberLiteral: 0 [8057,8058]
                INFIX_EXPRESSION_OPERATOR: && [8059,8061]
                InfixExpression [8062,8095]
                    MethodInvocation [8062,8076]
                        METHOD_INVOCATION_RECEIVER [8062,8065]
                            SimpleName: pos [8062,8065]
                        SimpleName: getIndex [8066,8074]
                    INFIX_EXPRESSION_OPERATOR: < [8077,8078]
                    MethodInvocation [8079,8095]
                        METHOD_INVOCATION_RECEIVER [8079,8086]
                            SimpleName: pattern [8079,8086]
                        SimpleName: length [8087,8093]
to
TypeDeclaration [1073,15725]
at 37
===
move-tree
---
MethodDeclaration [9424,11115]
    Javadoc [9424,9798]
        TagElement [9439,9523]
            TextElement: Consume a quoted string, adding it to <code>appendTo</code> if [9439,9501]
            TextElement: specified. [9513,9523]
        TagElement [9547,9578]
            SimpleName: pattern [9554,9561]
            TextElement:  pattern to parse [9561,9578]
        TagElement [9590,9623]
            SimpleName: pos [9597,9600]
            TextElement:  current parse position [9600,9623]
        TagElement [9635,9682]
            SimpleName: appendTo [9642,9650]
            TextElement:  optional StringBuffer to append [9650,9682]
        TagElement [9694,9745]
            SimpleName: escapingOn [9701,9711]
            TextElement:  whether to process escaped quotes [9711,9745]
        TagElement [9757,9786]
            TextElement:  <code>appendTo</code> [9764,9786]
    Modifier: private [9807,9814]
    SimpleType [9815,9827]
        SimpleName: StringBuffer [9815,9827]
    SimpleName: appendQuotedString [9828,9846]
    SingleVariableDeclaration [9847,9861]
        SimpleType [9847,9853]
            SimpleName: String [9847,9853]
        SimpleName: pattern [9854,9861]
    SingleVariableDeclaration [9879,9896]
        SimpleType [9879,9892]
            SimpleName: ParsePosition [9879,9892]
        SimpleName: pos [9893,9896]
    SingleVariableDeclaration [9898,9919]
        SimpleType [9898,9910]
            SimpleName: StringBuffer [9898,9910]
        SimpleName: appendTo [9911,9919]
    SingleVariableDeclaration [9921,9939]
        PrimitiveType: boolean [9921,9928]
        SimpleName: escapingOn [9929,9939]
    Block [9941,11115]
        VariableDeclarationStatement [9955,9982]
            PrimitiveType: int [9955,9958]
            VariableDeclarationFragment [9959,9981]
                SimpleName: start [9959,9964]
                MethodInvocation [9967,9981]
                    METHOD_INVOCATION_RECEIVER [9967,9970]
                        SimpleName: pos [9967,9970]
                    SimpleName: getIndex [9971,9979]
        VariableDeclarationStatement [9995,10028]
            ArrayType [9995,10001]
                PrimitiveType: char [9995,9999]
                Dimension [9999,10001]
            VariableDeclarationFragment [10002,10027]
                SimpleName: c [10002,10003]
                MethodInvocation [10006,10027]
                    METHOD_INVOCATION_RECEIVER [10006,10013]
                        SimpleName: pattern [10006,10013]
                    SimpleName: toCharArray [10014,10025]
        IfStatement [10041,10166]
            InfixExpression [10045,10076]
                SimpleName: escapingOn [10045,10055]
                INFIX_EXPRESSION_OPERATOR: && [10056,10058]
                InfixExpression [10059,10076]
                    ArrayAccess [10059,10067]
                        SimpleName: c [10059,10060]
                        SimpleName: start [10061,10066]
                    INFIX_EXPRESSION_OPERATOR: == [10068,10070]
                    SimpleName: QUOTE [10071,10076]
            Block [10078,10166]
                ReturnStatement [10096,10152]
                    ConditionalExpression [10103,10151]
                        InfixExpression [10103,10119]
                            SimpleName: appendTo [10103,10111]
                            INFIX_EXPRESSION_OPERATOR: == [10112,10114]
                            NullLiteral [10115,10119]
                        NullLiteral [10122,10126]
                        MethodInvocation [10129,10151]
                            METHOD_INVOCATION_RECEIVER [10129,10137]
                                SimpleName: appendTo [10129,10137]
                            SimpleName: append [10138,10144]
                            METHOD_INVOCATION_ARGUMENTS [10145,10150]
                                SimpleName: QUOTE [10145,10150]
        VariableDeclarationStatement [10179,10200]
            PrimitiveType: int [10179,10182]
            VariableDeclarationFragment [10183,10199]
                SimpleName: lastHold [10183,10191]
                SimpleName: start [10194,10199]
        ForStatement [10213,10985]
            VariableDeclarationExpression [10218,10240]
                PrimitiveType: int [10218,10221]
                VariableDeclarationFragment [10222,10240]
                    SimpleName: i [10222,10223]
                    MethodInvocation [10226,10240]
                        METHOD_INVOCATION_RECEIVER [10226,10229]
                            SimpleName: pos [10226,10229]
                        SimpleName: getIndex [10230,10238]
            InfixExpression [10242,10262]
                SimpleName: i [10242,10243]
                INFIX_EXPRESSION_OPERATOR: < [10244,10245]
                MethodInvocation [10246,10262]
                    METHOD_INVOCATION_RECEIVER [10246,10253]
                        SimpleName: pattern [10246,10253]
                    SimpleName: length [10254,10260]
            PostfixExpression [10264,10267]
                SimpleName: i [10264,10265]
                POSTFIX_EXPRESSION_OPERATOR: ++ [10265,10267]
            Block [10269,10985]
                IfStatement [10287,10655]
                    InfixExpression [10291,10375]
                        SimpleName: escapingOn [10291,10301]
                        INFIX_EXPRESSION_OPERATOR: && [10326,10328]
                        MethodInvocation [10329,10375]
                            METHOD_INVOCATION_RECEIVER [10329,10349]
                                MethodInvocation [10329,10349]
                                    METHOD_INVOCATION_RECEIVER [10329,10336]
                                        SimpleName: pattern [10329,10336]
                                    SimpleName: substring [10337,10346]
                                    METHOD_INVOCATION_ARGUMENTS [10347,10348]
                                        SimpleName: i [10347,10348]
                            SimpleName: startsWith [10350,10360]
                            METHOD_INVOCATION_ARGUMENTS [10361,10374]
                                SimpleName: ESCAPED_QUOTE [10361,10374]
                    Block [10377,10655]
                        ExpressionStatement [10399,10498]
                            MethodInvocation [10399,10497]
                                METHOD_INVOCATION_RECEIVER [10399,10454]
                                    MethodInvocation [10399,10454]
                                        METHOD_INVOCATION_RECEIVER [10399,10407]
                                            SimpleName: appendTo [10399,10407]
                                        SimpleName: append [10408,10414]
                                        METHOD_INVOCATION_ARGUMENTS [10415,10453]
                                            SimpleName: c [10415,10416]
                                            SimpleName: lastHold [10418,10426]
                                            InfixExpression [10428,10453]
                                                MethodInvocation [10428,10442]
                                                    METHOD_INVOCATION_RECEIVER [10428,10431]
                                                        SimpleName: pos [10428,10431]
                                                    SimpleName: getIndex [10432,10440]
                                                INFIX_EXPRESSION_OPERATOR: - [10443,10444]
                                                SimpleName: lastHold [10445,10453]
                                SimpleName: append [10484,10490]
                                METHOD_INVOCATION_ARGUMENTS [10491,10496]
                                    SimpleName: QUOTE [10491,10496]
                        ExpressionStatement [10519,10560]
                            MethodInvocation [10519,10559]
                                METHOD_INVOCATION_RECEIVER [10519,10522]
                                    SimpleName: pos [10519,10522]
                                SimpleName: setIndex [10523,10531]
                                METHOD_INVOCATION_ARGUMENTS [10532,10558]
                                    InfixExpression [10532,10558]
                                        SimpleName: i [10532,10533]
                                        INFIX_EXPRESSION_OPERATOR: + [10534,10535]
                                        MethodInvocation [10536,10558]
                                            METHOD_INVOCATION_RECEIVER [10536,10549]
                                                SimpleName: ESCAPED_QUOTE [10536,10549]
                                            SimpleName: length [10550,10556]
                        ExpressionStatement [10581,10607]
                            Assignment [10581,10606]
                                SimpleName: lastHold [10581,10589]
                                ASSIGNMENT_OPERATOR: = [10590,10591]
                                MethodInvocation [10592,10606]
                                    METHOD_INVOCATION_RECEIVER [10592,10595]
                                        SimpleName: pos [10592,10595]
                                    SimpleName: getIndex [10596,10604]
                        ContinueStatement [10628,10637]
                SwitchStatement [10672,10971]
                    ArrayAccess [10680,10697]
                        SimpleName: c [10680,10681]
                        MethodInvocation [10682,10696]
                            METHOD_INVOCATION_RECEIVER [10682,10685]
                                SimpleName: pos [10682,10685]
                            SimpleName: getIndex [10686,10694]
                    SwitchCase [10717,10728]
                        SimpleName: QUOTE [10722,10727]
                    ExpressionStatement [10749,10759]
                        MethodInvocation [10749,10758]
                            SimpleName: next [10749,10753]
                            METHOD_INVOCATION_ARGUMENTS [10754,10757]
                                SimpleName: pos [10754,10757]
                    ReturnStatement [10780,10897]
                        ConditionalExpression [10787,10896]
                            InfixExpression [10787,10803]
                                SimpleName: appendTo [10787,10795]
                                INFIX_EXPRESSION_OPERATOR: == [10796,10798]
                                NullLiteral [10799,10803]
                            NullLiteral [10806,10810]
                            MethodInvocation [10813,10896]
                                METHOD_INVOCATION_RECEIVER [10813,10821]
                                    SimpleName: appendTo [10813,10821]
                                SimpleName: append [10822,10828]
                                METHOD_INVOCATION_ARGUMENTS [10829,10895]
                                    SimpleName: c [10829,10830]
                                    SimpleName: lastHold [10860,10868]
                                    InfixExpression [10870,10895]
                                        MethodInvocation [10870,10884]
                                            METHOD_INVOCATION_RECEIVER [10870,10873]
                                                SimpleName: pos [10870,10873]
                                            SimpleName: getIndex [10874,10882]
                                        INFIX_EXPRESSION_OPERATOR: - [10885,10886]
                                        SimpleName: lastHold [10887,10895]
                    SwitchCase [10914,10922]
                    ExpressionStatement [10943,10953]
                        MethodInvocation [10943,10952]
                            SimpleName: next [10943,10947]
                            METHOD_INVOCATION_ARGUMENTS [10948,10951]
                                SimpleName: pos [10948,10951]
        ThrowStatement [10998,11105]
            ClassInstanceCreation [11004,11104]
                SimpleType [11008,11032]
                    SimpleName: IllegalArgumentException [11008,11032]
                InfixExpression [11054,11103]
                    StringLiteral: "Unterminated quoted string at position " [11054,11095]
                    INFIX_EXPRESSION_OPERATOR: + [11096,11097]
                    SimpleName: start [11098,11103]
to
TypeDeclaration [1073,15725]
at 38
===
move-tree
---
MethodDeclaration [11125,11525]
    Javadoc [11125,11341]
        TagElement [11140,11166]
            TextElement: Consume quoted string only [11140,11166]
        TagElement [11190,11221]
            SimpleName: pattern [11197,11204]
            TextElement:  pattern to parse [11204,11221]
        TagElement [11233,11266]
            SimpleName: pos [11240,11243]
            TextElement:  current parse position [11243,11266]
        TagElement [11278,11329]
            SimpleName: escapingOn [11285,11295]
            TextElement:  whether to process escaped quotes [11295,11329]
    Modifier: private [11350,11357]
    PrimitiveType: void [11358,11362]
    SimpleName: getQuotedString [11363,11378]
    SingleVariableDeclaration [11379,11393]
        SimpleType [11379,11385]
            SimpleName: String [11379,11385]
        SimpleName: pattern [11386,11393]
    SingleVariableDeclaration [11395,11412]
        SimpleType [11395,11408]
            SimpleName: ParsePosition [11395,11408]
        SimpleName: pos [11409,11412]
    SingleVariableDeclaration [11430,11448]
        PrimitiveType: boolean [11430,11437]
        SimpleName: escapingOn [11438,11448]
    Block [11450,11525]
        ExpressionStatement [11464,11515]
            MethodInvocation [11464,11514]
                SimpleName: appendQuotedString [11464,11482]
                METHOD_INVOCATION_ARGUMENTS [11483,11513]
                    SimpleName: pattern [11483,11490]
                    SimpleName: pos [11492,11495]
                    NullLiteral [11497,11501]
                    SimpleName: escapingOn [11503,11513]
to
TypeDeclaration [1073,15725]
at 39
===
insert-tree
---
MethodDeclaration [14442,14969]
    Javadoc [14442,14644]
        TagElement [14453,14519]
            TextElement: Learn whether the specified Collection contains non-null elements. [14453,14519]
        TagElement [14527,14547]
            SimpleName: coll [14534,14538]
            TextElement:  to check [14538,14547]
        TagElement [14555,14636]
            TextElement:  <code>true</code> if some Object was found, <code>false</code> otherwise. [14562,14636]
    Modifier: private [14649,14656]
    PrimitiveType: boolean [14657,14664]
    SimpleName: containsElements [14665,14681]
    SingleVariableDeclaration [14682,14697]
        SimpleType [14682,14692]
            SimpleName: Collection [14682,14692]
        SimpleName: coll [14693,14697]
    Block [14699,14969]
        IfStatement [14709,14784]
            InfixExpression [14713,14745]
                InfixExpression [14713,14725]
                    SimpleName: coll [14713,14717]
                    INFIX_EXPRESSION_OPERATOR: == [14718,14720]
                    NullLiteral [14721,14725]
                INFIX_EXPRESSION_OPERATOR: || [14726,14728]
                InfixExpression [14729,14745]
                    MethodInvocation [14729,14740]
                        METHOD_INVOCATION_RECEIVER [14729,14733]
                            SimpleName: coll [14729,14733]
                        SimpleName: size [14734,14738]
                    INFIX_EXPRESSION_OPERATOR: == [14741,14743]
                    NumberLiteral: 0 [14744,14745]
            Block [14747,14784]
                ReturnStatement [14761,14774]
                    BooleanLiteral: false [14768,14773]
        ForStatement [14793,14941]
            VariableDeclarationExpression [14798,14829]
                SimpleType [14798,14806]
                    SimpleName: Iterator [14798,14806]
                VariableDeclarationFragment [14807,14829]
                    SimpleName: iter [14807,14811]
                    MethodInvocation [14814,14829]
                        METHOD_INVOCATION_RECEIVER [14814,14818]
                            SimpleName: coll [14814,14818]
                        SimpleName: iterator [14819,14827]
            MethodInvocation [14831,14845]
                METHOD_INVOCATION_RECEIVER [14831,14835]
                    SimpleName: iter [14831,14835]
                SimpleName: hasNext [14836,14843]
            Block [14848,14941]
                IfStatement [14862,14931]
                    InfixExpression [14866,14885]
                        MethodInvocation [14866,14877]
                            METHOD_INVOCATION_RECEIVER [14866,14870]
                                SimpleName: iter [14866,14870]
                            SimpleName: next [14871,14875]
                        INFIX_EXPRESSION_OPERATOR: != [14878,14880]
                        NullLiteral [14881,14885]
                    Block [14887,14931]
                        ReturnStatement [14905,14917]
                            BooleanLiteral: true [14912,14916]
        ReturnStatement [14950,14963]
            BooleanLiteral: false [14957,14962]
to
TypeDeclaration [1073,15725]
at 40
===
insert-node
---
TagElement [1114,1413]
to
Javadoc [1107,1475]
at 0
===
move-tree
---
TagElement [1689,1708]
    TextElement:  Matt Benson [1696,1708]
to
Javadoc [1107,1475]
at 1
===
move-tree
---
TagElement [1712,1722]
    TextElement:  2.4 [1718,1722]
to
Javadoc [1107,1475]
at 2
===
move-tree
---
TagElement [1726,1739]
    TextElement:  $Id$ [1734,1739]
to
Javadoc [1107,1475]
at 3
===
insert-tree
---
Javadoc [3397,3429]
    TagElement [3408,3421]
        TagElement [3408,3421]
to
MethodDeclaration [14922,15188]
at 0
===
insert-node
---
PrimitiveType: int [7806,7809]
to
MethodDeclaration [8423,9414]
at 2
===
insert-tree
---
SimpleType [9447,9453]
    SimpleName: String [9447,9453]
to
MethodDeclaration [11535,12517]
at 2
===
update-node
---
SimpleName: eatFormat [11739,11748]
replace eatFormat by parseFormatDescription
===
insert-tree
---
SingleVariableDeclaration [10567,10591]
    SimpleType [10567,10576]
        SimpleName: ArrayList [10567,10576]
    SimpleName: customPatterns [10577,10591]
to
MethodDeclaration [4438,6033]
at 5
===
move-tree
---
TextElement: Extends <code>MessageFormat</code> to allow pluggable/additional formatting [1080,1155]
to
TagElement [1114,1413]
at 0
===
insert-node
---
TextElement: options for embedded format elements; requires elaboration. [1193,1252]
to
TagElement [1114,1413]
at 1
===
insert-node
---
TextElement: Note that the mutator methods for the replacement Formats are to be considered [1259,1337]
to
TagElement [1114,1413]
at 2
===
insert-node
---
TextElement: unnecessary and thus have been disabled (UnsupportedOperationException). [1341,1413]
to
TagElement [1114,1413]
at 3
===
update-node
---
SimpleName: Format [12593,12599]
replace Format by Map
===
update-node
---
SimpleName: metaFormat [12600,12610]
replace metaFormat by registry
===
update-node
---
SimpleName: metaFormat [12992,13002]
replace metaFormat by registry
===
insert-tree
---
ReturnStatement [3470,3487]
    SimpleName: toPattern [3477,3486]
to
Block [15101,15188]
at 0
===
insert-tree
---
VariableDeclarationStatement [3791,3832]
    SimpleType [3791,3800]
        SimpleName: ArrayList [3791,3800]
    VariableDeclarationFragment [3801,3831]
        SimpleName: foundFormats [3801,3813]
        ClassInstanceCreation [3816,3831]
            SimpleType [3820,3829]
                SimpleName: ArrayList [3820,3829]
to
Block [14091,14394]
at 1
===
insert-tree
---
VariableDeclarationStatement [3841,3887]
    SimpleType [3841,3850]
        SimpleName: ArrayList [3841,3850]
    VariableDeclarationFragment [3851,3886]
        SimpleName: foundDescriptions [3851,3868]
        ClassInstanceCreation [3871,3886]
            SimpleType [3875,3884]
                SimpleName: ArrayList [3875,3884]
to
Block [14091,14394]
at 2
===
insert-tree
---
VariableDeclarationStatement [3896,3958]
    SimpleType [3896,3908]
        SimpleName: StringBuffer [3896,3908]
    VariableDeclarationFragment [3909,3957]
        SimpleName: stripCustom [3909,3920]
        ClassInstanceCreation [3923,3957]
            SimpleType [3927,3939]
                SimpleName: StringBuffer [3927,3939]
            MethodInvocation [3940,3956]
                METHOD_INVOCATION_RECEIVER [3940,3947]
                    SimpleName: pattern [3940,3947]
                SimpleName: length [3948,3954]
to
Block [14091,14394]
at 3
===
insert-tree
---
VariableDeclarationStatement [3968,4009]
    SimpleType [3968,3981]
        SimpleName: ParsePosition [3968,3981]
    VariableDeclarationFragment [3982,4008]
        SimpleName: pos [3982,3985]
        ClassInstanceCreation [3988,4008]
            SimpleType [3992,4005]
                SimpleName: ParsePosition [3992,4005]
            NumberLiteral: 0 [4006,4007]
to
Block [14091,14394]
at 4
===
insert-tree
---
VariableDeclarationStatement [4018,4051]
    ArrayType [4018,4024]
        PrimitiveType: char [4018,4022]
        Dimension [4022,4024]
    VariableDeclarationFragment [4025,4050]
        SimpleName: c [4025,4026]
        MethodInvocation [4029,4050]
            METHOD_INVOCATION_RECEIVER [4029,4036]
                SimpleName: pattern [4029,4036]
            SimpleName: toCharArray [4037,4048]
to
Block [14091,14394]
at 5
===
insert-tree
---
VariableDeclarationStatement [4060,4077]
    PrimitiveType: int [4060,4063]
    VariableDeclarationFragment [4064,4076]
        SimpleName: fmtCount [4064,4072]
        NumberLiteral: 0 [4075,4076]
to
Block [14091,14394]
at 6
===
insert-node
---
WhileStatement [4086,5693]
to
Block [14091,14394]
at 7
===
insert-tree
---
ExpressionStatement [5702,5745]
    SuperMethodInvocation [5702,5744]
        SimpleName: applyPattern [5708,5720]
        MethodInvocation [5721,5743]
            METHOD_INVOCATION_RECEIVER [5721,5732]
                SimpleName: stripCustom [5721,5732]
            SimpleName: toString [5733,5741]
to
Block [14091,14394]
at 8
===
insert-tree
---
ExpressionStatement [5754,5818]
    Assignment [5754,5817]
        SimpleName: toPattern [5754,5763]
        ASSIGNMENT_OPERATOR: = [5764,5765]
        MethodInvocation [5766,5817]
            SimpleName: insertFormats [5766,5779]
            METHOD_INVOCATION_ARGUMENTS [5780,5816]
                SuperMethodInvocation [5780,5797]
                    SimpleName: toPattern [5786,5795]
                SimpleName: foundDescriptions [5799,5816]
to
Block [14091,14394]
at 9
===
insert-tree
---
IfStatement [5827,6187]
    MethodInvocation [5831,5861]
        SimpleName: containsElements [5831,5847]
        METHOD_INVOCATION_ARGUMENTS [5848,5860]
            SimpleName: foundFormats [5848,5860]
    Block [5863,6187]
        VariableDeclarationStatement [5877,5913]
            ArrayType [5877,5885]
                SimpleType [5877,5883]
                    SimpleName: Format [5877,5883]
                Dimension [5883,5885]
            VariableDeclarationFragment [5886,5912]
                SimpleName: origFormats [5886,5897]
                MethodInvocation [5900,5912]
                    SimpleName: getFormats [5900,5910]
        ForStatement [5926,6134]
            VariableDeclarationExpression [5931,5940]
                PrimitiveType: int [5931,5934]
                VariableDeclarationFragment [5935,5940]
                    SimpleName: i [5935,5936]
                    NumberLiteral: 0 [5939,5940]
            InfixExpression [5942,5964]
                SimpleName: i [5942,5943]
                INFIX_EXPRESSION_OPERATOR: < [5944,5945]
                QualifiedName: origFormats.length [5946,5964]
            PostfixExpression [5966,5969]
                SimpleName: i [5966,5967]
                POSTFIX_EXPRESSION_OPERATOR: ++ [5967,5969]
            Block [5971,6134]
                VariableDeclarationStatement [5989,6029]
                    SimpleType [5989,5995]
                        SimpleName: Format [5989,5995]
                    VariableDeclarationFragment [5996,6028]
                        SimpleName: f [5996,5997]
                        CastExpression [6000,6028]
                            SimpleType [6001,6007]
                                SimpleName: Format [6001,6007]
                            MethodInvocation [6009,6028]
                                METHOD_INVOCATION_RECEIVER [6009,6021]
                                    SimpleName: foundFormats [6009,6021]
                                SimpleName: get [6022,6025]
                                METHOD_INVOCATION_ARGUMENTS [6026,6027]
                                    SimpleName: i [6026,6027]
                IfStatement [6046,6120]
                    InfixExpression [6050,6059]
                        SimpleName: f [6050,6051]
                        INFIX_EXPRESSION_OPERATOR: != [6052,6054]
                        NullLiteral [6055,6059]
                    Block [6061,6120]
                        ExpressionStatement [6083,6102]
                            Assignment [6083,6101]
                                ArrayAccess [6083,6097]
                                    SimpleName: origFormats [6083,6094]
                                    SimpleName: i [6095,6096]
                                ASSIGNMENT_OPERATOR: = [6098,6099]
                                SimpleName: f [6100,6101]
        ExpressionStatement [6147,6177]
            SuperMethodInvocation [6147,6176]
                SimpleName: setFormats [6153,6163]
                SimpleName: origFormats [6164,6175]
to
Block [14091,14394]
at 10
===
insert-tree
---
ExpressionStatement [7909,7933]
    MethodInvocation [7909,7932]
        SimpleName: seekNonWs [7909,7918]
        METHOD_INVOCATION_ARGUMENTS [7919,7931]
            SimpleName: pattern [7919,7926]
            SimpleName: pos [7928,7931]
to
Block [8726,9414]
at 1
===
insert-tree
---
VariableDeclarationStatement [7942,7983]
    SimpleType [7942,7954]
        SimpleName: StringBuffer [7942,7954]
    VariableDeclarationFragment [7955,7982]
        SimpleName: result [7955,7961]
        ClassInstanceCreation [7964,7982]
            SimpleType [7968,7980]
                SimpleName: StringBuffer [7968,7980]
to
Block [8726,9414]
at 2
===
insert-tree
---
VariableDeclarationStatement [7992,8014]
    PrimitiveType: boolean [7992,7999]
    VariableDeclarationFragment [8000,8013]
        SimpleName: error [8000,8005]
        BooleanLiteral: false [8008,8013]
to
Block [8726,9414]
at 3
===
insert-node
---
ForStatement [8023,8883]
to
Block [8726,9414]
at 4
===
move-tree
---
IfStatement [9048,9269]
    PrefixExpression [9052,9073]
        PREFIX_EXPRESSION_OPERATOR: ! [9052,9053]
        MethodInvocation [9053,9073]
            METHOD_INVOCATION_RECEIVER [9053,9062]
                SimpleName: Character [9053,9062]
            SimpleName: isDigit [9063,9070]
            METHOD_INVOCATION_ARGUMENTS [9071,9072]
                SimpleName: c [9071,9072]
    Block [9075,9269]
        ThrowStatement [9097,9251]
            ClassInstanceCreation [9103,9250]
                SimpleType [9107,9131]
                    SimpleName: IllegalArgumentException [9107,9131]
                InfixExpression [9161,9249]
                    StringLiteral: "Invalid format argument index at position " [9161,9205]
                    INFIX_EXPRESSION_OPERATOR: + [9242,9243]
                    SimpleName: start [9244,9249]
to
Block [8726,9414]
at 5
===
insert-tree
---
TagElement [9393,9426]
    TextElement:  Format description String [9400,9426]
to
Javadoc [11535,11717]
at 3
===
insert-tree
---
ExpressionStatement [9558,9582]
    MethodInvocation [9558,9581]
        SimpleName: seekNonWs [9558,9567]
        METHOD_INVOCATION_ARGUMENTS [9568,9580]
            SimpleName: pattern [9568,9575]
            SimpleName: pos [9577,9580]
to
Block [11784,12517]
at 1
===
insert-tree
---
VariableDeclarationStatement [9591,9617]
    PrimitiveType: int [9591,9594]
    VariableDeclarationFragment [9595,9616]
        SimpleName: text [9595,9599]
        MethodInvocation [9602,9616]
            METHOD_INVOCATION_RECEIVER [9602,9605]
                SimpleName: pos [9602,9605]
            SimpleName: getIndex [9606,9614]
to
Block [11784,12517]
at 2
===
insert-tree
---
VariableDeclarationStatement [10827,10841]
    PrimitiveType: int [10827,10830]
    VariableDeclarationFragment [10831,10840]
        SimpleName: depth [10831,10836]
        NumberLiteral: 0 [10839,10840]
to
Block [4816,6033]
at 4
===
update-node
---
SimpleName: metaFormat [12774,12784]
replace metaFormat by registry
===
update-node
---
TextElement:  Format [12784,12791]
replace  Format by  Registry of format factories:  Map<String, FormatFactory>
===
update-node
---
TextElement:  if <code>metaFormat</code> is [12831,12861]
replace  if <code>metaFormat</code> is by  in case of a bad pattern.
===
update-node
---
SimpleName: Format [12985,12991]
replace Format by Map
===
update-node
---
SimpleName: metaFormat [13049,13059]
replace metaFormat by registry
===
insert-tree
---
InfixExpression [4093,4126]
    MethodInvocation [4093,4107]
        METHOD_INVOCATION_RECEIVER [4093,4096]
            SimpleName: pos [4093,4096]
        SimpleName: getIndex [4097,4105]
    INFIX_EXPRESSION_OPERATOR: < [4108,4109]
    MethodInvocation [4110,4126]
        METHOD_INVOCATION_RECEIVER [4110,4117]
            SimpleName: pattern [4110,4117]
        SimpleName: length [4118,4124]
to
WhileStatement [4086,5693]
at 0
===
insert-node
---
Block [4128,5693]
to
WhileStatement [4086,5693]
at 1
===
update-node
---
TextElement:  argument index as string [8612,8637]
replace  argument index as string by  argument index
===
insert-tree
---
InfixExpression [8030,8073]
    PrefixExpression [8030,8036]
        PREFIX_EXPRESSION_OPERATOR: ! [8030,8031]
        SimpleName: error [8031,8036]
    INFIX_EXPRESSION_OPERATOR: && [8037,8039]
    InfixExpression [8040,8073]
        MethodInvocation [8040,8054]
            METHOD_INVOCATION_RECEIVER [8040,8043]
                SimpleName: pos [8040,8043]
            SimpleName: getIndex [8044,8052]
        INFIX_EXPRESSION_OPERATOR: < [8055,8056]
        MethodInvocation [8057,8073]
            METHOD_INVOCATION_RECEIVER [8057,8064]
                SimpleName: pattern [8057,8064]
            SimpleName: length [8065,8071]
to
ForStatement [8023,8883]
at 0
===
insert-tree
---
MethodInvocation [8075,8084]
    SimpleName: next [8075,8079]
    METHOD_INVOCATION_ARGUMENTS [8080,8083]
        SimpleName: pos [8080,8083]
to
ForStatement [8023,8883]
at 1
===
move-tree
---
Block [8833,9283]
    VariableDeclarationStatement [8851,8891]
        PrimitiveType: char [8851,8855]
        VariableDeclarationFragment [8856,8890]
            SimpleName: c [8856,8857]
            MethodInvocation [8860,8890]
                METHOD_INVOCATION_RECEIVER [8860,8867]
                    SimpleName: pattern [8860,8867]
                SimpleName: charAt [8868,8874]
                METHOD_INVOCATION_ARGUMENTS [8875,8889]
                    MethodInvocation [8875,8889]
                        METHOD_INVOCATION_RECEIVER [8875,8878]
                            SimpleName: pos [8875,8878]
                        SimpleName: getIndex [8879,8887]
    IfStatement [8908,9031]
        InfixExpression [8912,8941]
            InfixExpression [8912,8926]
                SimpleName: c [8912,8913]
                INFIX_EXPRESSION_OPERATOR: == [8914,8916]
                SimpleName: START_FMT [8917,8926]
            INFIX_EXPRESSION_OPERATOR: || [8927,8929]
            InfixExpression [8930,8941]
                SimpleName: c [8930,8931]
                INFIX_EXPRESSION_OPERATOR: == [8932,8934]
                SimpleName: END_FE [8935,8941]
        Block [8943,9031]
            ReturnStatement [8965,9013]
                MethodInvocation [8972,9012]
                    METHOD_INVOCATION_RECEIVER [8972,8979]
                        SimpleName: pattern [8972,8979]
                    SimpleName: substring [8980,8989]
                    METHOD_INVOCATION_ARGUMENTS [8990,9011]
                        SimpleName: start [8990,8995]
                        MethodInvocation [8997,9011]
                            METHOD_INVOCATION_RECEIVER [8997,9000]
                                SimpleName: pos [8997,9000]
                            SimpleName: getIndex [9001,9009]
    IfStatement [9048,9269]
        PrefixExpression [9052,9073]
            PREFIX_EXPRESSION_OPERATOR: ! [9052,9053]
            MethodInvocation [9053,9073]
                METHOD_INVOCATION_RECEIVER [9053,9062]
                    SimpleName: Character [9053,9062]
                SimpleName: isDigit [9063,9070]
                METHOD_INVOCATION_ARGUMENTS [9071,9072]
                    SimpleName: c [9071,9072]
        Block [9075,9269]
            ThrowStatement [9097,9251]
                ClassInstanceCreation [9103,9250]
                    SimpleType [9107,9131]
                        SimpleName: IllegalArgumentException [9107,9131]
                    InfixExpression [9161,9249]
                        StringLiteral: "Invalid format argument index at position " [9161,9205]
                        INFIX_EXPRESSION_OPERATOR: + [9242,9243]
                        SimpleName: start [9244,9249]
to
ForStatement [8023,8883]
at 2
===
insert-node
---
SimpleName: error [8896,8901]
to
IfStatement [9048,9269]
at 0
===
update-node
---
TextElement: Consume the entire format found at the current position. [11550,11606]
replace Consume the entire format found at the current position. by Parse the format component of a format element.
===
insert-tree
---
PrefixExpression [10607,10640]
    PREFIX_EXPRESSION_OPERATOR: ! [10607,10608]
    MethodInvocation [10608,10640]
        SimpleName: containsElements [10608,10624]
        METHOD_INVOCATION_ARGUMENTS [10625,10639]
            SimpleName: customPatterns [10625,10639]
to
IfStatement [4830,4921]
at 0
===
update-node
---
SimpleName: metaFormat [14105,14115]
replace metaFormat by registry
===
move-tree
---
ExpressionStatement [14255,14291]
    SuperMethodInvocation [14255,14290]
        SimpleName: applyPattern [14261,14273]
        SimpleName: strippedPattern [14274,14289]
to
Block [14125,14156]
at 0
===
insert-tree
---
ExpressionStatement [3722,3752]
    Assignment [3722,3751]
        SimpleName: toPattern [3722,3731]
        ASSIGNMENT_OPERATOR: = [3732,3733]
        SuperMethodInvocation [3734,3751]
            SimpleName: toPattern [3740,3749]
to
Block [14125,14156]
at 1
===
insert-node
---
SwitchStatement [4142,5683]
to
Block [4128,5693]
at 0
===
insert-tree
---
IfStatement [8153,8427]
    MethodInvocation [8157,8182]
        METHOD_INVOCATION_RECEIVER [8157,8166]
            SimpleName: Character [8157,8166]
        SimpleName: isWhitespace [8167,8179]
        METHOD_INVOCATION_ARGUMENTS [8180,8181]
            SimpleName: c [8180,8181]
    Block [8184,8427]
        ExpressionStatement [8202,8226]
            MethodInvocation [8202,8225]
                SimpleName: seekNonWs [8202,8211]
                METHOD_INVOCATION_ARGUMENTS [8212,8224]
                    SimpleName: pattern [8212,8219]
                    SimpleName: pos [8221,8224]
        ExpressionStatement [8243,8278]
            Assignment [8243,8277]
                SimpleName: c [8243,8244]
                ASSIGNMENT_OPERATOR: = [8245,8246]
                MethodInvocation [8247,8277]
                    METHOD_INVOCATION_RECEIVER [8247,8254]
                        SimpleName: pattern [8247,8254]
                    SimpleName: charAt [8255,8261]
                    METHOD_INVOCATION_ARGUMENTS [8262,8276]
                        MethodInvocation [8262,8276]
                            METHOD_INVOCATION_RECEIVER [8262,8265]
                                SimpleName: pos [8262,8265]
                            SimpleName: getIndex [8266,8274]
        IfStatement [8295,8413]
            InfixExpression [8299,8328]
                InfixExpression [8299,8313]
                    SimpleName: c [8299,8300]
                    INFIX_EXPRESSION_OPERATOR: != [8301,8303]
                    SimpleName: START_FMT [8304,8313]
                INFIX_EXPRESSION_OPERATOR: && [8314,8316]
                InfixExpression [8317,8328]
                    SimpleName: c [8317,8318]
                    INFIX_EXPRESSION_OPERATOR: != [8319,8321]
                    SimpleName: END_FE [8322,8328]
            Block [8330,8413]
                ExpressionStatement [8352,8365]
                    Assignment [8352,8364]
                        SimpleName: error [8352,8357]
                        ASSIGNMENT_OPERATOR: = [8358,8359]
                        BooleanLiteral: true [8360,8364]
                ContinueStatement [8386,8395]
to
Block [8833,9283]
at 1
===
insert-tree
---
IfStatement [8440,8800]
    InfixExpression [8444,8498]
        ParenthesizedExpression [8444,8475]
            InfixExpression [8445,8474]
                InfixExpression [8445,8459]
                    SimpleName: c [8445,8446]
                    INFIX_EXPRESSION_OPERATOR: == [8447,8449]
                    SimpleName: START_FMT [8450,8459]
                INFIX_EXPRESSION_OPERATOR: || [8460,8462]
                InfixExpression [8463,8474]
                    SimpleName: c [8463,8464]
                    INFIX_EXPRESSION_OPERATOR: == [8465,8467]
                    SimpleName: END_FE [8468,8474]
        INFIX_EXPRESSION_OPERATOR: && [8476,8478]
        InfixExpression [8479,8498]
            MethodInvocation [8479,8494]
                METHOD_INVOCATION_RECEIVER [8479,8485]
                    SimpleName: result [8479,8485]
                SimpleName: length [8486,8492]
            INFIX_EXPRESSION_OPERATOR: > [8495,8496]
            NumberLiteral: 0 [8497,8498]
    Block [8500,8800]
        TryStatement [8518,8786]
            Block [8522,8605]
                ReturnStatement [8544,8587]
                    MethodInvocation [8551,8586]
                        METHOD_INVOCATION_RECEIVER [8551,8558]
                            SimpleName: Integer [8551,8558]
                        SimpleName: parseInt [8559,8567]
                        METHOD_INVOCATION_ARGUMENTS [8568,8585]
                            MethodInvocation [8568,8585]
                                METHOD_INVOCATION_RECEIVER [8568,8574]
                                    SimpleName: result [8568,8574]
                                SimpleName: toString [8575,8583]
            CatchClause [8606,8786]
                SingleVariableDeclaration [8613,8636]
                    SimpleType [8613,8634]
                        SimpleName: NumberFormatException [8613,8634]
                    SimpleName: e [8635,8636]
                Block [8638,8786]
to
Block [8833,9283]
at 2
===
insert-tree
---
ExpressionStatement [8813,8843]
    Assignment [8813,8842]
        SimpleName: error [8813,8818]
        ASSIGNMENT_OPERATOR: = [8819,8820]
        PrefixExpression [8821,8842]
            PREFIX_EXPRESSION_OPERATOR: ! [8821,8822]
            MethodInvocation [8822,8842]
                METHOD_INVOCATION_RECEIVER [8822,8831]
                    SimpleName: Character [8822,8831]
                SimpleName: isDigit [8832,8839]
                METHOD_INVOCATION_ARGUMENTS [8840,8841]
                    SimpleName: c [8840,8841]
to
Block [8833,9283]
at 3
===
insert-tree
---
ExpressionStatement [8856,8873]
    MethodInvocation [8856,8872]
        METHOD_INVOCATION_RECEIVER [8856,8862]
            SimpleName: result [8856,8862]
        SimpleName: append [8863,8869]
        METHOD_INVOCATION_ARGUMENTS [8870,8871]
            SimpleName: c [8870,8871]
to
Block [8833,9283]
at 4
===
insert-tree
---
ArrayAccess [4150,4167]
    SimpleName: c [4150,4151]
    MethodInvocation [4152,4166]
        METHOD_INVOCATION_RECEIVER [4152,4155]
            SimpleName: pos [4152,4155]
        SimpleName: getIndex [4156,4164]
to
SwitchStatement [4142,5683]
at 0
===
insert-tree
---
SwitchCase [4183,4194]
    SimpleName: QUOTE [4188,4193]
to
SwitchStatement [4142,5683]
at 1
===
insert-tree
---
ExpressionStatement [4211,4263]
    MethodInvocation [4211,4262]
        SimpleName: appendQuotedString [4211,4229]
        METHOD_INVOCATION_ARGUMENTS [4230,4261]
            SimpleName: pattern [4230,4237]
            SimpleName: pos [4239,4242]
            SimpleName: stripCustom [4244,4255]
            BooleanLiteral: true [4257,4261]
to
SwitchStatement [4142,5683]
at 2
===
insert-node
---
BreakStatement [4280,4286]
to
SwitchStatement [4142,5683]
at 3
===
insert-tree
---
SwitchCase [4299,4313]
    SimpleName: START_FE [4304,4312]
to
SwitchStatement [4142,5683]
at 4
===
insert-tree
---
ExpressionStatement [4330,4341]
    PostfixExpression [4330,4340]
        SimpleName: fmtCount [4330,4338]
        POSTFIX_EXPRESSION_OPERATOR: ++ [4338,4340]
to
SwitchStatement [4142,5683]
at 5
===
insert-tree
---
ExpressionStatement [4358,4382]
    MethodInvocation [4358,4381]
        SimpleName: seekNonWs [4358,4367]
        METHOD_INVOCATION_ARGUMENTS [4368,4380]
            SimpleName: pattern [4368,4375]
            SimpleName: pos [4377,4380]
to
SwitchStatement [4142,5683]
at 6
===
insert-tree
---
VariableDeclarationStatement [4399,4426]
    PrimitiveType: int [4399,4402]
    VariableDeclarationFragment [4403,4425]
        SimpleName: start [4403,4408]
        MethodInvocation [4411,4425]
            METHOD_INVOCATION_RECEIVER [4411,4414]
                SimpleName: pos [4411,4414]
            SimpleName: getIndex [4415,4423]
to
SwitchStatement [4142,5683]
at 7
===
insert-tree
---
VariableDeclarationStatement [4443,4493]
    PrimitiveType: int [4443,4446]
    VariableDeclarationFragment [4447,4492]
        SimpleName: index [4447,4452]
        MethodInvocation [4455,4492]
            SimpleName: readArgumentIndex [4455,4472]
            METHOD_INVOCATION_ARGUMENTS [4473,4491]
                SimpleName: pattern [4473,4480]
                MethodInvocation [4482,4491]
                    SimpleName: next [4482,4486]
                    METHOD_INVOCATION_ARGUMENTS [4487,4490]
                        SimpleName: pos [4487,4490]
to
SwitchStatement [4142,5683]
at 8
===
insert-tree
---
ExpressionStatement [4510,4553]
    MethodInvocation [4510,4552]
        METHOD_INVOCATION_RECEIVER [4510,4538]
            MethodInvocation [4510,4538]
                METHOD_INVOCATION_RECEIVER [4510,4521]
                    SimpleName: stripCustom [4510,4521]
                SimpleName: append [4522,4528]
                METHOD_INVOCATION_ARGUMENTS [4529,4537]
                    SimpleName: START_FE [4529,4537]
        SimpleName: append [4539,4545]
        METHOD_INVOCATION_ARGUMENTS [4546,4551]
            SimpleName: index [4546,4551]
to
SwitchStatement [4142,5683]
at 9
===
insert-tree
---
ExpressionStatement [4570,4594]
    MethodInvocation [4570,4593]
        SimpleName: seekNonWs [4570,4579]
        METHOD_INVOCATION_ARGUMENTS [4580,4592]
            SimpleName: pattern [4580,4587]
            SimpleName: pos [4589,4592]
to
SwitchStatement [4142,5683]
at 10
===
insert-tree
---
VariableDeclarationStatement [4611,4632]
    SimpleType [4611,4617]
        SimpleName: Format [4611,4617]
    VariableDeclarationFragment [4618,4631]
        SimpleName: format [4618,4624]
        NullLiteral [4627,4631]
to
SwitchStatement [4142,5683]
at 11
===
insert-tree
---
VariableDeclarationStatement [4649,4681]
    SimpleType [4649,4655]
        SimpleName: String [4649,4655]
    VariableDeclarationFragment [4656,4680]
        SimpleName: formatDescription [4656,4673]
        NullLiteral [4676,4680]
to
SwitchStatement [4142,5683]
at 12
===
insert-node
---
IfStatement [4698,5069]
to
SwitchStatement [4142,5683]
at 13
===
insert-tree
---
ExpressionStatement [5086,5111]
    MethodInvocation [5086,5110]
        METHOD_INVOCATION_RECEIVER [5086,5098]
            SimpleName: foundFormats [5086,5098]
        SimpleName: add [5099,5102]
        METHOD_INVOCATION_ARGUMENTS [5103,5109]
            SimpleName: format [5103,5109]
to
SwitchStatement [4142,5683]
at 14
===
insert-tree
---
ExpressionStatement [5128,5193]
    MethodInvocation [5128,5192]
        METHOD_INVOCATION_RECEIVER [5128,5145]
            SimpleName: foundDescriptions [5128,5145]
        SimpleName: add [5146,5149]
        METHOD_INVOCATION_ARGUMENTS [5150,5191]
            ConditionalExpression [5150,5191]
                InfixExpression [5150,5164]
                    SimpleName: format [5150,5156]
                    INFIX_EXPRESSION_OPERATOR: == [5157,5159]
                    NullLiteral [5160,5164]
                NullLiteral [5167,5171]
                SimpleName: formatDescription [5174,5191]
to
SwitchStatement [4142,5683]
at 15
===
insert-tree
---
ExpressionStatement [5210,5259]
    MethodInvocation [5210,5258]
        METHOD_INVOCATION_RECEIVER [5210,5218]
            SimpleName: Validate [5210,5218]
        SimpleName: isTrue [5219,5225]
        METHOD_INVOCATION_ARGUMENTS [5226,5257]
            InfixExpression [5226,5257]
                MethodInvocation [5226,5245]
                    METHOD_INVOCATION_RECEIVER [5226,5238]
                        SimpleName: foundFormats [5226,5238]
                    SimpleName: size [5239,5243]
                INFIX_EXPRESSION_OPERATOR: == [5246,5248]
                SimpleName: fmtCount [5249,5257]
to
SwitchStatement [4142,5683]
at 16
===
insert-tree
---
ExpressionStatement [5276,5330]
    MethodInvocation [5276,5329]
        METHOD_INVOCATION_RECEIVER [5276,5284]
            SimpleName: Validate [5276,5284]
        SimpleName: isTrue [5285,5291]
        METHOD_INVOCATION_ARGUMENTS [5292,5328]
            InfixExpression [5292,5328]
                MethodInvocation [5292,5316]
                    METHOD_INVOCATION_RECEIVER [5292,5309]
                        SimpleName: foundDescriptions [5292,5309]
                    SimpleName: size [5310,5314]
                INFIX_EXPRESSION_OPERATOR: == [5317,5319]
                SimpleName: fmtCount [5320,5328]
to
SwitchStatement [4142,5683]
at 17
===
insert-tree
---
IfStatement [5347,5534]
    InfixExpression [5351,5378]
        ArrayAccess [5351,5368]
            SimpleName: c [5351,5352]
            MethodInvocation [5353,5367]
                METHOD_INVOCATION_RECEIVER [5353,5356]
                    SimpleName: pos [5353,5356]
                SimpleName: getIndex [5357,5365]
        INFIX_EXPRESSION_OPERATOR: != [5369,5371]
        SimpleName: END_FE [5372,5378]
    Block [5380,5534]
        ThrowStatement [5402,5516]
            ClassInstanceCreation [5408,5515]
                SimpleType [5412,5436]
                    SimpleName: IllegalArgumentException [5412,5436]
                InfixExpression [5466,5514]
                    StringLiteral: "Unreadable format element at position " [5466,5506]
                    INFIX_EXPRESSION_OPERATOR: + [5507,5508]
                    SimpleName: start [5509,5514]
to
SwitchStatement [4142,5683]
at 18
===
insert-node
---
SwitchCase [5579,5587]
to
SwitchStatement [4142,5683]
at 19
===
insert-tree
---
ExpressionStatement [5604,5642]
    MethodInvocation [5604,5641]
        METHOD_INVOCATION_RECEIVER [5604,5615]
            SimpleName: stripCustom [5604,5615]
        SimpleName: append [5616,5622]
        METHOD_INVOCATION_ARGUMENTS [5623,5640]
            ArrayAccess [5623,5640]
                SimpleName: c [5623,5624]
                MethodInvocation [5625,5639]
                    METHOD_INVOCATION_RECEIVER [5625,5628]
                        SimpleName: pos [5625,5628]
                    SimpleName: getIndex [5629,5637]
to
SwitchStatement [4142,5683]
at 20
===
insert-tree
---
ExpressionStatement [5659,5669]
    MethodInvocation [5659,5668]
        SimpleName: next [5659,5663]
        METHOD_INVOCATION_ARGUMENTS [5664,5667]
            SimpleName: pos [5664,5667]
to
SwitchStatement [4142,5683]
at 21
===
insert-tree
---
ExpressionStatement [11123,11131]
    PostfixExpression [11123,11130]
        SimpleName: depth [11123,11128]
        POSTFIX_EXPRESSION_OPERATOR: ++ [11128,11130]
to
SwitchStatement [5200,5975]
at 5
===
insert-node
---
IfStatement [11148,11540]
to
SwitchStatement [5200,5975]
at 6
===
insert-tree
---
SwitchCase [11576,11588]
    SimpleName: END_FE [11581,11587]
to
SwitchStatement [5200,5975]
at 11
===
insert-tree
---
ExpressionStatement [11605,11613]
    PostfixExpression [11605,11612]
        SimpleName: depth [11605,11610]
        POSTFIX_EXPRESSION_OPERATOR: -- [11610,11612]
to
SwitchStatement [5200,5975]
at 12
===
update-node
---
SimpleName: strippedPattern [14274,14289]
replace strippedPattern by pattern
===
insert-tree
---
InfixExpression [4702,4732]
    ArrayAccess [4702,4719]
        SimpleName: c [4702,4703]
        MethodInvocation [4704,4718]
            METHOD_INVOCATION_RECEIVER [4704,4707]
                SimpleName: pos [4704,4707]
            SimpleName: getIndex [4708,4716]
    INFIX_EXPRESSION_OPERATOR: == [4720,4722]
    SimpleName: START_FMT [4723,4732]
to
IfStatement [4698,5069]
at 0
===
insert-node
---
Block [4734,5069]
to
IfStatement [4698,5069]
at 1
===
insert-tree
---
InfixExpression [11152,11162]
    SimpleName: depth [11152,11157]
    INFIX_EXPRESSION_OPERATOR: == [11158,11160]
    NumberLiteral: 1 [11161,11162]
to
IfStatement [11148,11540]
at 0
===
move-tree
---
Block [5551,5811]
    VariableDeclarationStatement [5577,5628]
        SimpleType [5577,5583]
            SimpleName: String [5577,5583]
        VariableDeclarationFragment [5584,5627]
            SimpleName: formatName [5584,5594]
            MethodInvocation [5597,5627]
                METHOD_INVOCATION_RECEIVER [5597,5607]
                    SimpleName: metaFormat [5597,5607]
                SimpleName: format [5608,5614]
                METHOD_INVOCATION_ARGUMENTS [5615,5626]
                    ArrayAccess [5615,5626]
                        SimpleName: formats [5615,5622]
                        SimpleName: fe [5623,5625]
    IfStatement [5653,5789]
        MethodInvocation [5657,5691]
            METHOD_INVOCATION_RECEIVER [5657,5668]
                SimpleName: StringUtils [5657,5668]
            SimpleName: isNotEmpty [5669,5679]
            METHOD_INVOCATION_ARGUMENTS [5680,5690]
                SimpleName: formatName [5680,5690]
        Block [5693,5789]
            ExpressionStatement [5723,5763]
                MethodInvocation [5723,5762]
                    METHOD_INVOCATION_RECEIVER [5723,5743]
                        MethodInvocation [5723,5743]
                            METHOD_INVOCATION_RECEIVER [5723,5725]
                                SimpleName: sb [5723,5725]
                            SimpleName: append [5726,5732]
                            METHOD_INVOCATION_ARGUMENTS [5733,5742]
                                SimpleName: START_FMT [5733,5742]
                    SimpleName: append [5744,5750]
                    METHOD_INVOCATION_ARGUMENTS [5751,5761]
                        SimpleName: formatName [5751,5761]
to
IfStatement [11148,11540]
at 1
===
move-tree
---
ExpressionStatement [14199,14246]
    Assignment [14199,14245]
        SimpleName: strippedPattern [14199,14214]
        ASSIGNMENT_OPERATOR: = [14215,14216]
        MethodInvocation [14217,14245]
            METHOD_INVOCATION_RECEIVER [14217,14223]
                SimpleName: PARSER [14217,14223]
            SimpleName: stripFormats [14224,14236]
            METHOD_INVOCATION_ARGUMENTS [14237,14244]
                SimpleName: pattern [14237,14244]
to
Block [4734,5069]
at 0
===
insert-tree
---
ExpressionStatement [4868,4906]
    Assignment [4868,4905]
        SimpleName: format [4868,4874]
        ASSIGNMENT_OPERATOR: = [4875,4876]
        MethodInvocation [4877,4905]
            SimpleName: getFormat [4877,4886]
            METHOD_INVOCATION_ARGUMENTS [4887,4904]
                SimpleName: formatDescription [4887,4904]
to
Block [4734,5069]
at 1
===
insert-tree
---
IfStatement [4927,5051]
    InfixExpression [4931,4945]
        SimpleName: format [4931,4937]
        INFIX_EXPRESSION_OPERATOR: == [4938,4940]
        NullLiteral [4941,4945]
    Block [4947,5051]
        ExpressionStatement [4973,5029]
            MethodInvocation [4973,5028]
                METHOD_INVOCATION_RECEIVER [4973,5002]
                    MethodInvocation [4973,5002]
                        METHOD_INVOCATION_RECEIVER [4973,4984]
                            SimpleName: stripCustom [4973,4984]
                        SimpleName: append [4985,4991]
                        METHOD_INVOCATION_ARGUMENTS [4992,5001]
                            SimpleName: START_FMT [4992,5001]
                SimpleName: append [5003,5009]
                METHOD_INVOCATION_ARGUMENTS [5010,5027]
                    SimpleName: formatDescription [5010,5027]
to
Block [4734,5069]
at 2
===
insert-node
---
StringLiteral: ": " [9028,9032]
to
InfixExpression [9161,9249]
at 3
===
insert-tree
---
MethodInvocation [9063,9103]
    METHOD_INVOCATION_RECEIVER [9063,9070]
        SimpleName: pattern [9063,9070]
    SimpleName: substring [9071,9080]
    METHOD_INVOCATION_ARGUMENTS [9081,9102]
        SimpleName: start [9081,9086]
        MethodInvocation [9088,9102]
            METHOD_INVOCATION_RECEIVER [9088,9091]
                SimpleName: pos [9088,9091]
            SimpleName: getIndex [9092,9100]
to
InfixExpression [9161,9249]
at 4
===
insert-tree
---
ReturnStatement [9937,9984]
    MethodInvocation [9944,9983]
        METHOD_INVOCATION_RECEIVER [9944,9951]
            SimpleName: pattern [9944,9951]
        SimpleName: substring [9952,9961]
        METHOD_INVOCATION_ARGUMENTS [9962,9982]
            SimpleName: text [9962,9966]
            MethodInvocation [9968,9982]
                METHOD_INVOCATION_RECEIVER [9968,9971]
                    SimpleName: pos [9968,9971]
                SimpleName: getIndex [9972,9980]
to
Block [12159,12214]
at 0
===
move-tree
---
ExpressionStatement [5384,5389]
    PostfixExpression [5384,5388]
        SimpleName: fe [5384,5386]
        POSTFIX_EXPRESSION_OPERATOR: ++ [5386,5388]
to
Block [5551,5811]
at 0
===
move-tree
---
ExpressionStatement [5410,5505]
    MethodInvocation [5410,5504]
        METHOD_INVOCATION_RECEIVER [5410,5429]
            MethodInvocation [5410,5429]
                METHOD_INVOCATION_RECEIVER [5410,5412]
                    SimpleName: sb [5410,5412]
                SimpleName: append [5413,5419]
                METHOD_INVOCATION_ARGUMENTS [5420,5428]
                    SimpleName: START_FE [5420,5428]
        SimpleName: append [5430,5436]
        METHOD_INVOCATION_ARGUMENTS [5466,5503]
            MethodInvocation [5466,5503]
                SimpleName: readArgumentIndex [5466,5483]
                METHOD_INVOCATION_ARGUMENTS [5484,5502]
                    SimpleName: pattern [5484,5491]
                    MethodInvocation [5493,5502]
                        SimpleName: next [5493,5497]
                        METHOD_INVOCATION_ARGUMENTS [5498,5501]
                            SimpleName: pos [5498,5501]
to
Block [5551,5811]
at 1
===
insert-tree
---
VariableDeclarationStatement [11328,11383]
    SimpleType [11328,11334]
        SimpleName: String [11328,11334]
    VariableDeclarationFragment [11335,11382]
        SimpleName: customPattern [11335,11348]
        CastExpression [11351,11382]
            SimpleType [11352,11358]
                SimpleName: String [11352,11358]
            MethodInvocation [11360,11382]
                METHOD_INVOCATION_RECEIVER [11360,11374]
                    SimpleName: customPatterns [11360,11374]
                SimpleName: get [11375,11378]
                METHOD_INVOCATION_ARGUMENTS [11379,11381]
                    SimpleName: fe [11379,11381]
to
Block [5551,5811]
at 2
===
insert-tree
---
InfixExpression [11408,11429]
    SimpleName: customPattern [11408,11421]
    INFIX_EXPRESSION_OPERATOR: != [11422,11424]
    NullLiteral [11425,11429]
to
IfStatement [5653,5789]
at 0
===
insert-node
---
SimpleName: c [11693,11694]
to
METHOD_INVOCATION_ARGUMENTS [5894,5924]
at 0
===
update-node
---
SimpleName: strippedPattern [14199,14214]
replace strippedPattern by formatDescription
===
update-node
---
SimpleName: stripFormats [14224,14236]
replace stripFormats by parseFormatDescription
===
insert-tree
---
MethodInvocation [4836,4845]
    SimpleName: next [4836,4840]
    METHOD_INVOCATION_ARGUMENTS [4841,4844]
        SimpleName: pos [4841,4844]
to
METHOD_INVOCATION_ARGUMENTS [14237,14244]
at 1
===
update-node
---
SimpleName: formatName [5751,5761]
replace formatName by customPattern
===
delete-tree
---
ImportDeclaration [987,1030]
    QualifiedName: org.apache.commons.lang.StringUtils [994,1029]
===
delete-node
---
TextElement: options for embedded format elements; requires a "meta-format", that is a [1159,1232]
===
===
delete-node
---
TextElement: <code>Format</code> capable of parsing and formatting other [1236,1295]
===
===
delete-node
---
TextElement: <code>Format</code>s. [1299,1320]
===
===
delete-node
---
TextElement: Limitations: [1328,1340]
===
===
delete-node
---
TextElement: <ul> [1344,1348]
===
===
delete-node
---
TextElement: <li><code>toPattern()</code> results are tailored to JDK 1.4+ output and [1352,1424]
===
===
delete-node
---
TextElement: will produce fairly drastically different results on earlier JDKs.</li> [1428,1499]
===
===
delete-node
---
TextElement: <li>Recursive choice formats do not inherit knowledge of the extended [1503,1572]
===
===
delete-node
---
TextElement: formatters and are limited to those available with [1576,1626]
===
===
delete-node
---
TextElement: <code>java.text.MessageFormat</code>.</li> [1630,1672]
===
===
delete-node
---
TextElement: </ul> [1676,1681]
===
===
delete-node
---
TagElement [1080,1681]
===
===
delete-node
---
Javadoc [1073,1743]
===
===
delete-tree
---
MethodDeclaration [1880,2217]
    Javadoc [1880,2097]
        TagElement [1891,2059]
            TextElement: Get a default meta-format for the default Locale. This will produce [1891,1958]
            TextElement: behavior identical to a <code>java.lang.MessageFormat</code> using the [1966,2036]
            TextElement: default locale. [2044,2059]
        TagElement [2075,2089]
            TextElement:  Format [2082,2089]
    Modifier: public [2102,2108]
    Modifier: static [2109,2115]
    SimpleType [2116,2122]
        SimpleName: Format [2116,2122]
    SimpleName: createDefaultMetaFormat [2123,2146]
    Block [2149,2217]
        ReturnStatement [2159,2211]
            MethodInvocation [2166,2210]
                SimpleName: createDefaultMetaFormat [2166,2189]
                METHOD_INVOCATION_ARGUMENTS [2190,2209]
                    MethodInvocation [2190,2209]
                        METHOD_INVOCATION_RECEIVER [2190,2196]
                            SimpleName: Locale [2190,2196]
                        SimpleName: getDefault [2197,2207]
===
delete-tree
---
MethodDeclaration [2223,2641]
    Javadoc [2223,2510]
        TagElement [2234,2405]
            TextElement: Get a default meta-format for the specified Locale. This will produce [2234,2303]
            TextElement: behavior identical to a <code>java.lang.MessageFormat</code> using [2311,2377]
            TextElement: <code>locale</code>. [2385,2405]
        TagElement [2421,2480]
            SimpleName: locale [2428,2434]
            TextElement:  the Locale for the resulting Format instance. [2434,2480]
        TagElement [2488,2502]
            TextElement:  Format [2495,2502]
    Modifier: public [2515,2521]
    Modifier: static [2522,2528]
    SimpleType [2529,2535]
        SimpleName: Format [2529,2535]
    SimpleName: createDefaultMetaFormat [2536,2559]
    SingleVariableDeclaration [2560,2573]
        SimpleType [2560,2566]
            SimpleName: Locale [2560,2566]
        SimpleName: locale [2567,2573]
    Block [2575,2641]
        ReturnStatement [2585,2635]
            MethodInvocation [2592,2634]
                METHOD_INVOCATION_RECEIVER [2592,2616]
                    SimpleName: DefaultMetaFormatFactory [2592,2616]
                SimpleName: getFormat [2617,2626]
                METHOD_INVOCATION_ARGUMENTS [2627,2633]
                    SimpleName: locale [2627,2633]
===
delete-tree
---
Javadoc [2647,2721]
    TagElement [2658,2713]
        TextElement: Conceptual demarcation of methods to parse the pattern. [2658,2713]
===
delete-node
---
Modifier: private [2726,2733]
===
===
delete-node
---
Modifier: static [2734,2740]
===
===
delete-node
---
TYPE_DECLARATION_KIND: class [2741,2746]
===
===
delete-node
---
SimpleName: Parser [2747,2753]
===
===
delete-tree
---
MethodDeclaration [3020,4428]
    Javadoc [3020,3172]
        TagElement [3035,3070]
            TextElement: Strip all formats from the pattern. [3035,3070]
        TagElement [3094,3124]
            SimpleName: pattern [3101,3108]
            TextElement:  String to strip [3108,3124]
        TagElement [3136,3160]
            TextElement:  stripped pattern [3143,3160]
    Modifier: private [3181,3188]
    SimpleType [3189,3195]
        SimpleName: String [3189,3195]
    SimpleName: stripFormats [3196,3208]
    SingleVariableDeclaration [3209,3223]
        SimpleType [3209,3215]
            SimpleName: String [3209,3215]
        SimpleName: pattern [3216,3223]
    Block [3225,4428]
        VariableDeclarationStatement [3239,3292]
            SimpleType [3239,3251]
                SimpleName: StringBuffer [3239,3251]
            VariableDeclarationFragment [3252,3291]
                SimpleName: sb [3252,3254]
                ClassInstanceCreation [3257,3291]
                    SimpleType [3261,3273]
                        SimpleName: StringBuffer [3261,3273]
                    MethodInvocation [3274,3290]
                        METHOD_INVOCATION_RECEIVER [3274,3281]
                            SimpleName: pattern [3274,3281]
                        SimpleName: length [3282,3288]
        VariableDeclarationStatement [3305,3346]
            SimpleType [3305,3318]
                SimpleName: ParsePosition [3305,3318]
            VariableDeclarationFragment [3319,3345]
                SimpleName: pos [3319,3322]
                ClassInstanceCreation [3325,3345]
                    SimpleType [3329,3342]
                        SimpleName: ParsePosition [3329,3342]
                    NumberLiteral: 0 [3343,3344]
        VariableDeclarationStatement [3359,3392]
            ArrayType [3359,3365]
                PrimitiveType: char [3359,3363]
                Dimension [3363,3365]
            VariableDeclarationFragment [3366,3391]
                SimpleName: c [3366,3367]
                MethodInvocation [3370,3391]
                    METHOD_INVOCATION_RECEIVER [3370,3377]
                        SimpleName: pattern [3370,3377]
                    SimpleName: toCharArray [3378,3389]
        WhileStatement [3405,4384]
            InfixExpression [3412,3445]
                MethodInvocation [3412,3426]
                    METHOD_INVOCATION_RECEIVER [3412,3415]
                        SimpleName: pos [3412,3415]
                    SimpleName: getIndex [3416,3424]
                INFIX_EXPRESSION_OPERATOR: < [3427,3428]
                MethodInvocation [3429,3445]
                    METHOD_INVOCATION_RECEIVER [3429,3436]
                        SimpleName: pattern [3429,3436]
                    SimpleName: length [3437,3443]
            Block [3447,4384]
                SwitchStatement [3465,4370]
                    ArrayAccess [3473,3490]
                        SimpleName: c [3473,3474]
                        MethodInvocation [3475,3489]
                            METHOD_INVOCATION_RECEIVER [3475,3478]
                                SimpleName: pos [3475,3478]
                            SimpleName: getIndex [3479,3487]
                    SwitchCase [3510,3521]
                        SimpleName: QUOTE [3515,3520]
                    ExpressionStatement [3542,3585]
                        MethodInvocation [3542,3584]
                            SimpleName: appendQuotedString [3542,3560]
                            METHOD_INVOCATION_ARGUMENTS [3561,3583]
                                SimpleName: pattern [3561,3568]
                                SimpleName: pos [3570,3573]
                                SimpleName: sb [3575,3577]
                                BooleanLiteral: true [3579,3583]
                    BreakStatement [3606,3612]
                    SwitchCase [3629,3643]
                        SimpleName: START_FE [3634,3642]
                    VariableDeclarationStatement [3664,3691]
                        PrimitiveType: int [3664,3667]
                        VariableDeclarationFragment [3668,3690]
                            SimpleName: start [3668,3673]
                            MethodInvocation [3676,3690]
                                METHOD_INVOCATION_RECEIVER [3676,3679]
                                    SimpleName: pos [3676,3679]
                                SimpleName: getIndex [3680,3688]
                    ExpressionStatement [3712,3750]
                        MethodInvocation [3712,3749]
                            SimpleName: readArgumentIndex [3712,3729]
                            METHOD_INVOCATION_ARGUMENTS [3730,3748]
                                SimpleName: pattern [3730,3737]
                                MethodInvocation [3739,3748]
                                    SimpleName: next [3739,3743]
                                    METHOD_INVOCATION_ARGUMENTS [3744,3747]
                                        SimpleName: pos [3744,3747]
                    ExpressionStatement [3771,3815]
                        MethodInvocation [3771,3814]
                            METHOD_INVOCATION_RECEIVER [3771,3773]
                                SimpleName: sb [3771,3773]
                            SimpleName: append [3774,3780]
                            METHOD_INVOCATION_ARGUMENTS [3781,3813]
                                SimpleName: c [3781,3782]
                                SimpleName: start [3784,3789]
                                InfixExpression [3791,3813]
                                    MethodInvocation [3791,3805]
                                        METHOD_INVOCATION_RECEIVER [3791,3794]
                                            SimpleName: pos [3791,3794]
                                        SimpleName: getIndex [3795,3803]
                                    INFIX_EXPRESSION_OPERATOR: - [3806,3807]
                                    SimpleName: start [3808,3813]
                    IfStatement [3836,3950]
                        InfixExpression [3840,3870]
                            ArrayAccess [3840,3857]
                                SimpleName: c [3840,3841]
                                MethodInvocation [3842,3856]
                                    METHOD_INVOCATION_RECEIVER [3842,3845]
                                        SimpleName: pos [3842,3845]
                                    SimpleName: getIndex [3846,3854]
                            INFIX_EXPRESSION_OPERATOR: == [3858,3860]
                            SimpleName: START_FMT [3861,3870]
                        Block [3872,3950]
                            ExpressionStatement [3898,3928]
                                MethodInvocation [3898,3927]
                                    SimpleName: eatFormat [3898,3907]
                                    METHOD_INVOCATION_ARGUMENTS [3908,3926]
                                        SimpleName: pattern [3908,3915]
                                        MethodInvocation [3917,3926]
                                            SimpleName: next [3917,3921]
                                            METHOD_INVOCATION_ARGUMENTS [3922,3925]
                                                SimpleName: pos [3922,3925]
                    IfStatement [3971,4210]
                        InfixExpression [3975,4002]
                            ArrayAccess [3975,3992]
                                SimpleName: c [3975,3976]
                                MethodInvocation [3977,3991]
                                    METHOD_INVOCATION_RECEIVER [3977,3980]
                                        SimpleName: pos [3977,3980]
                                    SimpleName: getIndex [3981,3989]
                            INFIX_EXPRESSION_OPERATOR: != [3993,3995]
                            SimpleName: END_FE [3996,4002]
                        Block [4004,4210]
                            ThrowStatement [4030,4188]
                                ClassInstanceCreation [4036,4187]
                                    SimpleType [4040,4064]
                                        SimpleName: IllegalArgumentException [4040,4064]
                                    InfixExpression [4098,4186]
                                        StringLiteral: "Unreadable format element at position " [4098,4138]
                                        INFIX_EXPRESSION_OPERATOR: + [4179,4180]
                                        SimpleName: start [4181,4186]
                    SwitchCase [4263,4271]
                    ExpressionStatement [4292,4321]
                        MethodInvocation [4292,4320]
                            METHOD_INVOCATION_RECEIVER [4292,4294]
                                SimpleName: sb [4292,4294]
                            SimpleName: append [4295,4301]
                            METHOD_INVOCATION_ARGUMENTS [4302,4319]
                                ArrayAccess [4302,4319]
                                    SimpleName: c [4302,4303]
                                    MethodInvocation [4304,4318]
                                        METHOD_INVOCATION_RECEIVER [4304,4307]
                                            SimpleName: pos [4304,4307]
                                        SimpleName: getIndex [4308,4316]
                    ExpressionStatement [4342,4352]
                        MethodInvocation [4342,4351]
                            SimpleName: next [4342,4346]
                            METHOD_INVOCATION_ARGUMENTS [4347,4350]
                                SimpleName: pos [4347,4350]
        ReturnStatement [4397,4418]
            MethodInvocation [4404,4417]
                METHOD_INVOCATION_RECEIVER [4404,4406]
                    SimpleName: sb [4404,4406]
                SimpleName: toString [4407,4415]
===
delete-tree
---
MethodDeclaration [6043,7555]
    Javadoc [6043,6265]
        TagElement [6058,6099]
            TextElement: Parse the formats from the given pattern. [6058,6099]
        TagElement [6123,6153]
            SimpleName: pattern [6130,6137]
            TextElement:  String to parse [6137,6153]
        TagElement [6165,6210]
            SimpleName: metaFormat [6172,6182]
            TextElement:  Format to parse the Formats [6182,6210]
        TagElement [6222,6253]
            TextElement:  array of parsed Formats [6229,6253]
    Modifier: private [6274,6281]
    ArrayType [6282,6290]
        SimpleType [6282,6288]
            SimpleName: Format [6282,6288]
        Dimension [6288,6290]
    SimpleName: parseFormats [6291,6303]
    SingleVariableDeclaration [6304,6318]
        SimpleType [6304,6310]
            SimpleName: String [6304,6310]
        SimpleName: pattern [6311,6318]
    SingleVariableDeclaration [6320,6337]
        SimpleType [6320,6326]
            SimpleName: Format [6320,6326]
        SimpleName: metaFormat [6327,6337]
    Block [6339,7555]
        VariableDeclarationStatement [6353,6388]
            SimpleType [6353,6362]
                SimpleName: ArrayList [6353,6362]
            VariableDeclarationFragment [6363,6387]
                SimpleName: result [6363,6369]
                ClassInstanceCreation [6372,6387]
                    SimpleType [6376,6385]
                        SimpleName: ArrayList [6376,6385]
        VariableDeclarationStatement [6401,6442]
            SimpleType [6401,6414]
                SimpleName: ParsePosition [6401,6414]
            VariableDeclarationFragment [6415,6441]
                SimpleName: pos [6415,6418]
                ClassInstanceCreation [6421,6441]
                    SimpleType [6425,6438]
                        SimpleName: ParsePosition [6425,6438]
                    NumberLiteral: 0 [6439,6440]
        WhileStatement [6455,7472]
            InfixExpression [6462,6495]
                MethodInvocation [6462,6476]
                    METHOD_INVOCATION_RECEIVER [6462,6465]
                        SimpleName: pos [6462,6465]
                    SimpleName: getIndex [6466,6474]
                INFIX_EXPRESSION_OPERATOR: < [6477,6478]
                MethodInvocation [6479,6495]
                    METHOD_INVOCATION_RECEIVER [6479,6486]
                        SimpleName: pattern [6479,6486]
                    SimpleName: length [6487,6493]
            Block [6497,7472]
                SwitchStatement [6515,7458]
                    MethodInvocation [6523,6553]
                        METHOD_INVOCATION_RECEIVER [6523,6530]
                            SimpleName: pattern [6523,6530]
                        SimpleName: charAt [6531,6537]
                        METHOD_INVOCATION_ARGUMENTS [6538,6552]
                            MethodInvocation [6538,6552]
                                METHOD_INVOCATION_RECEIVER [6538,6541]
                                    SimpleName: pos [6538,6541]
                                SimpleName: getIndex [6542,6550]
                    SwitchCase [6573,6584]
                        SimpleName: QUOTE [6578,6583]
                    ExpressionStatement [6605,6647]
                        MethodInvocation [6605,6646]
                            SimpleName: getQuotedString [6605,6620]
                            METHOD_INVOCATION_ARGUMENTS [6621,6645]
                                SimpleName: pattern [6621,6628]
                                MethodInvocation [6630,6639]
                                    SimpleName: next [6630,6634]
                                    METHOD_INVOCATION_ARGUMENTS [6635,6638]
                                        SimpleName: pos [6635,6638]
                                BooleanLiteral: true [6641,6645]
                    BreakStatement [6668,6674]
                    SwitchCase [6691,6705]
                        SimpleName: START_FE [6696,6704]
                    VariableDeclarationStatement [6726,6753]
                        PrimitiveType: int [6726,6729]
                        VariableDeclarationFragment [6730,6752]
                            SimpleName: start [6730,6735]
                            MethodInvocation [6738,6752]
                                METHOD_INVOCATION_RECEIVER [6738,6741]
                                    SimpleName: pos [6738,6741]
                                SimpleName: getIndex [6742,6750]
                    ExpressionStatement [6774,6812]
                        MethodInvocation [6774,6811]
                            SimpleName: readArgumentIndex [6774,6791]
                            METHOD_INVOCATION_ARGUMENTS [6792,6810]
                                SimpleName: pattern [6792,6799]
                                MethodInvocation [6801,6810]
                                    SimpleName: next [6801,6805]
                                    METHOD_INVOCATION_ARGUMENTS [6806,6809]
                                        SimpleName: pos [6806,6809]
                    IfStatement [6833,6960]
                        InfixExpression [6837,6880]
                            MethodInvocation [6837,6867]
                                METHOD_INVOCATION_RECEIVER [6837,6844]
                                    SimpleName: pattern [6837,6844]
                                SimpleName: charAt [6845,6851]
                                METHOD_INVOCATION_ARGUMENTS [6852,6866]
                                    MethodInvocation [6852,6866]
                                        METHOD_INVOCATION_RECEIVER [6852,6855]
                                            SimpleName: pos [6852,6855]
                                        SimpleName: getIndex [6856,6864]
                            INFIX_EXPRESSION_OPERATOR: == [6868,6870]
                            SimpleName: START_FMT [6871,6880]
                        Block [6882,6960]
                            ExpressionStatement [6908,6938]
                                MethodInvocation [6908,6937]
                                    SimpleName: seekNonWs [6908,6917]
                                    METHOD_INVOCATION_ARGUMENTS [6918,6936]
                                        SimpleName: pattern [6918,6925]
                                        MethodInvocation [6927,6936]
                                            SimpleName: next [6927,6931]
                                            METHOD_INVOCATION_ARGUMENTS [6932,6935]
                                                SimpleName: pos [6932,6935]
                    ExpressionStatement [6981,7030]
                        MethodInvocation [6981,7029]
                            METHOD_INVOCATION_RECEIVER [6981,6987]
                                SimpleName: result [6981,6987]
                            SimpleName: add [6988,6991]
                            METHOD_INVOCATION_ARGUMENTS [6992,7028]
                                MethodInvocation [6992,7028]
                                    METHOD_INVOCATION_RECEIVER [6992,7002]
                                        SimpleName: metaFormat [6992,7002]
                                    SimpleName: parseObject [7003,7014]
                                    METHOD_INVOCATION_ARGUMENTS [7015,7027]
                                        SimpleName: pattern [7015,7022]
                                        SimpleName: pos [7024,7027]
                    ExpressionStatement [7051,7075]
                        MethodInvocation [7051,7074]
                            SimpleName: seekNonWs [7051,7060]
                            METHOD_INVOCATION_ARGUMENTS [7061,7073]
                                SimpleName: pattern [7061,7068]
                                SimpleName: pos [7070,7073]
                    IfStatement [7096,7348]
                        InfixExpression [7100,7140]
                            MethodInvocation [7100,7130]
                                METHOD_INVOCATION_RECEIVER [7100,7107]
                                    SimpleName: pattern [7100,7107]
                                SimpleName: charAt [7108,7114]
                                METHOD_INVOCATION_ARGUMENTS [7115,7129]
                                    MethodInvocation [7115,7129]
                                        METHOD_INVOCATION_RECEIVER [7115,7118]
                                            SimpleName: pos [7115,7118]
                                        SimpleName: getIndex [7119,7127]
                            INFIX_EXPRESSION_OPERATOR: != [7131,7133]
                            SimpleName: END_FE [7134,7140]
                        Block [7142,7348]
                            ThrowStatement [7168,7326]
                                ClassInstanceCreation [7174,7325]
                                    SimpleType [7178,7202]
                                        SimpleName: IllegalArgumentException [7178,7202]
                                    InfixExpression [7236,7324]
                                        StringLiteral: "Unreadable format element at position " [7236,7276]
                                        INFIX_EXPRESSION_OPERATOR: + [7317,7318]
                                        SimpleName: start [7319,7324]
                    SwitchCase [7401,7409]
                    ExpressionStatement [7430,7440]
                        MethodInvocation [7430,7439]
                            SimpleName: next [7430,7434]
                            METHOD_INVOCATION_ARGUMENTS [7435,7438]
                                SimpleName: pos [7435,7438]
        ReturnStatement [7485,7545]
            CastExpression [7492,7544]
                ArrayType [7493,7501]
                    SimpleType [7493,7499]
                        SimpleName: Format [7493,7499]
                    Dimension [7499,7501]
                MethodInvocation [7503,7544]
                    METHOD_INVOCATION_RECEIVER [7503,7509]
                        SimpleName: result [7503,7509]
                    SimpleName: toArray [7510,7517]
                    METHOD_INVOCATION_ARGUMENTS [7518,7543]
                        ArrayCreation [7518,7543]
                            ArrayType [7522,7543]
                                SimpleType [7522,7528]
                                    SimpleName: Format [7522,7528]
                                Dimension [7528,7543]
                                    MethodInvocation [7529,7542]
                                        METHOD_INVOCATION_RECEIVER [7529,7535]
                                            SimpleName: result [7529,7535]
                                        SimpleName: size [7536,7540]
===
delete-node
---
TypeDeclaration [2647,12523]
===
===
delete-tree
---
FieldDeclaration [12529,12579]
    Modifier: private [12529,12536]
    Modifier: static [12537,12543]
    Modifier: final [12544,12549]
    SimpleType [12550,12556]
        SimpleName: Parser [12550,12556]
    VariableDeclarationFragment [12557,12578]
        SimpleName: PARSER [12557,12563]
        ClassInstanceCreation [12566,12578]
            SimpleType [12570,12576]
                SimpleName: Parser [12570,12576]
===
delete-tree
---
FieldDeclaration [12616,12647]
    Modifier: private [12616,12623]
    SimpleType [12624,12630]
        SimpleName: String [12624,12630]
    VariableDeclarationFragment [12631,12646]
        SimpleName: strippedPattern [12631,12646]
===
delete-node
---
TextElement: <code>null</code> or in case of a bad pattern. [12881,12927]
===
===
delete-tree
---
MethodDeclaration [13073,13949]
    Javadoc [13073,13360]
        TagElement [13084,13119]
            TextElement: Create a new ExtendedMessageFormat. [13084,13119]
        TagElement [13135,13156]
            SimpleName: pattern [13142,13149]
            TextElement:  String [13149,13156]
        TagElement [13164,13184]
            SimpleName: locale [13171,13177]
            TextElement:  Locale [13177,13184]
        TagElement [13192,13216]
            SimpleName: metaFormat [13199,13209]
            TextElement:  Format [13209,13216]
        TagElement [13224,13352]
            SimpleName: IllegalArgumentException [13232,13256]
            TextElement:  if <code>metaFormat</code> is [13256,13286]
            TextElement: <code>null</code> or in case of a bad pattern. [13306,13352]
    Modifier: public [13365,13371]
    SimpleName: ExtendedMessageFormat [13372,13393]
    SingleVariableDeclaration [13394,13408]
        SimpleType [13394,13400]
            SimpleName: String [13394,13400]
        SimpleName: pattern [13401,13408]
    SingleVariableDeclaration [13410,13423]
        SimpleType [13410,13416]
            SimpleName: Locale [13410,13416]
        SimpleName: locale [13417,13423]
    SingleVariableDeclaration [13437,13454]
        SimpleType [13437,13443]
            SimpleName: Format [13437,13443]
        SimpleName: metaFormat [13444,13454]
    Block [13456,13949]
        SuperConstructorInvocation [13835,13850]
            SimpleName: pattern [13841,13848]
        ExpressionStatement [13859,13877]
            MethodInvocation [13859,13876]
                SimpleName: setLocale [13859,13868]
                METHOD_INVOCATION_ARGUMENTS [13869,13875]
                    SimpleName: locale [13869,13875]
        ExpressionStatement [13886,13912]
            MethodInvocation [13886,13911]
                SimpleName: setMetaFormat [13886,13899]
                METHOD_INVOCATION_ARGUMENTS [13900,13910]
                    SimpleName: metaFormat [13900,13910]
        ExpressionStatement [13921,13943]
            MethodInvocation [13921,13942]
                SimpleName: applyPattern [13921,13933]
                METHOD_INVOCATION_ARGUMENTS [13934,13941]
                    SimpleName: pattern [13934,13941]
===
delete-tree
---
MethodDeclaration [14400,14654]
    Javadoc [14400,14579]
        TagElement [14411,14534]
            TextElement: Pre-execution hook by means of which a subclass can customize the [14411,14476]
            TextElement: behavior of the final applyPattern implementation. [14484,14534]
        TagElement [14550,14571]
            SimpleName: pattern [14557,14564]
            TextElement:  String [14564,14571]
    Modifier: protected [14584,14593]
    PrimitiveType: void [14594,14598]
    SimpleName: applyPatternPre [14599,14614]
    SingleVariableDeclaration [14615,14629]
        SimpleType [14615,14621]
            SimpleName: String [14615,14621]
        SimpleName: pattern [14622,14629]
    Block [14631,14654]
===
delete-tree
---
MethodDeclaration [14660,14916]
    Javadoc [14660,14840]
        TagElement [14671,14795]
            TextElement: Post-execution hook by means of which a subclass can customize the [14671,14737]
            TextElement: behavior of the final applyPattern implementation. [14745,14795]
        TagElement [14811,14832]
            SimpleName: pattern [14818,14825]
            TextElement:  String [14825,14832]
    Modifier: protected [14845,14854]
    PrimitiveType: void [14855,14859]
    SimpleName: applyPatternPost [14860,14876]
    SingleVariableDeclaration [14877,14891]
        SimpleType [14877,14883]
            SimpleName: String [14877,14883]
        SimpleName: pattern [14884,14891]
    Block [14893,14916]
===
delete-tree
---
Javadoc [14922,15070]
    TagElement [14933,15024]
        TextElement: Render the pattern from the current state of the [14933,14981]
        TextElement: <code>ExtendedMessageFormat</code>. [14989,15024]
    TagElement [15040,15062]
        TextElement:  pattern String [15047,15062]
===
delete-tree
---
ReturnStatement [15111,15182]
    MethodInvocation [15118,15181]
        METHOD_INVOCATION_RECEIVER [15118,15124]
            SimpleName: PARSER [15118,15124]
        SimpleName: insertFormats [15125,15138]
        METHOD_INVOCATION_ARGUMENTS [15139,15180]
            SimpleName: strippedPattern [15139,15154]
            MethodInvocation [15156,15168]
                SimpleName: getFormats [15156,15166]
            SimpleName: metaFormat [15170,15180]
===
delete-tree
---
METHOD_INVOCATION_RECEIVER [14217,14223]
    SimpleName: PARSER [14217,14223]
===
delete-tree
---
ExpressionStatement [14165,14190]
    MethodInvocation [14165,14189]
        SimpleName: applyPatternPre [14165,14180]
        METHOD_INVOCATION_ARGUMENTS [14181,14188]
            SimpleName: pattern [14181,14188]
===
delete-tree
---
ExpressionStatement [14300,14353]
    MethodInvocation [14300,14352]
        SimpleName: setFormats [14300,14310]
        METHOD_INVOCATION_ARGUMENTS [14311,14351]
            MethodInvocation [14311,14351]
                METHOD_INVOCATION_RECEIVER [14311,14317]
                    SimpleName: PARSER [14311,14317]
                SimpleName: parseFormats [14318,14330]
                METHOD_INVOCATION_ARGUMENTS [14331,14350]
                    SimpleName: pattern [14331,14338]
                    SimpleName: metaFormat [14340,14350]
===
delete-tree
---
ExpressionStatement [14362,14388]
    MethodInvocation [14362,14387]
        SimpleName: applyPatternPost [14362,14378]
        METHOD_INVOCATION_ARGUMENTS [14379,14386]
            SimpleName: pattern [14379,14386]
===
delete-tree
---
SimpleType [8666,8672]
    SimpleName: String [8666,8672]
===
delete-tree
---
IfStatement [8908,9031]
    InfixExpression [8912,8941]
        InfixExpression [8912,8926]
            SimpleName: c [8912,8913]
            INFIX_EXPRESSION_OPERATOR: == [8914,8916]
            SimpleName: START_FMT [8917,8926]
        INFIX_EXPRESSION_OPERATOR: || [8927,8929]
        InfixExpression [8930,8941]
            SimpleName: c [8930,8931]
            INFIX_EXPRESSION_OPERATOR: == [8932,8934]
            SimpleName: END_FE [8935,8941]
    Block [8943,9031]
        ReturnStatement [8965,9013]
            MethodInvocation [8972,9012]
                METHOD_INVOCATION_RECEIVER [8972,8979]
                    SimpleName: pattern [8972,8979]
                SimpleName: substring [8980,8989]
                METHOD_INVOCATION_ARGUMENTS [8990,9011]
                    SimpleName: start [8990,8995]
                    MethodInvocation [8997,9011]
                        METHOD_INVOCATION_RECEIVER [8997,9000]
                            SimpleName: pos [8997,9000]
                        SimpleName: getIndex [9001,9009]
===
delete-tree
---
PrefixExpression [9052,9073]
    PREFIX_EXPRESSION_OPERATOR: ! [9052,9053]
    MethodInvocation [9053,9073]
        METHOD_INVOCATION_RECEIVER [9053,9062]
            SimpleName: Character [9053,9062]
        SimpleName: isDigit [9063,9070]
        METHOD_INVOCATION_ARGUMENTS [9071,9072]
            SimpleName: c [9071,9072]
===
delete-tree
---
InfixExpression [8787,8820]
    MethodInvocation [8787,8801]
        METHOD_INVOCATION_RECEIVER [8787,8790]
            SimpleName: pos [8787,8790]
        SimpleName: getIndex [8791,8799]
    INFIX_EXPRESSION_OPERATOR: < [8802,8803]
    MethodInvocation [8804,8820]
        METHOD_INVOCATION_RECEIVER [8804,8811]
            SimpleName: pattern [8804,8811]
        SimpleName: length [8812,8818]
===
delete-tree
---
MethodInvocation [8822,8831]
    SimpleName: next [8822,8826]
    METHOD_INVOCATION_ARGUMENTS [8827,8830]
        SimpleName: pos [8827,8830]
===
delete-node
---
ForStatement [8780,9283]
===
===
delete-node
---
PrimitiveType: void [11734,11738]
===
===
delete-node
---
ReturnStatement [12185,12192]
===
===
delete-tree
---
SingleVariableDeclaration [4763,4779]
    ArrayType [4763,4771]
        SimpleType [4763,4769]
            SimpleName: Format [4763,4769]
        Dimension [4769,4771]
    SimpleName: formats [4772,4779]
===
delete-tree
---
SingleVariableDeclaration [4797,4814]
    SimpleType [4797,4803]
        SimpleName: Format [4797,4803]
    SimpleName: metaFormat [4804,4814]
===
delete-tree
---
InfixExpression [4834,4872]
    InfixExpression [4834,4849]
        SimpleName: formats [4834,4841]
        INFIX_EXPRESSION_OPERATOR: == [4842,4844]
        NullLiteral [4845,4849]
    INFIX_EXPRESSION_OPERATOR: || [4850,4852]
    InfixExpression [4853,4872]
        QualifiedName: formats.length [4853,4867]
        INFIX_EXPRESSION_OPERATOR: == [4868,4870]
        NumberLiteral: 0 [4871,4872]
===
delete-tree
---
VariableDeclarationStatement [5577,5628]
    SimpleType [5577,5583]
        SimpleName: String [5577,5583]
    VariableDeclarationFragment [5584,5627]
        SimpleName: formatName [5584,5594]
        MethodInvocation [5597,5627]
            METHOD_INVOCATION_RECEIVER [5597,5607]
                SimpleName: metaFormat [5597,5607]
            SimpleName: format [5608,5614]
            METHOD_INVOCATION_ARGUMENTS [5615,5626]
                ArrayAccess [5615,5626]
                    SimpleName: formats [5615,5622]
                    SimpleName: fe [5623,5625]
===
delete-tree
---
MethodInvocation [5657,5691]
    METHOD_INVOCATION_RECEIVER [5657,5668]
        SimpleName: StringUtils [5657,5668]
    SimpleName: isNotEmpty [5669,5679]
    METHOD_INVOCATION_ARGUMENTS [5680,5690]
        SimpleName: formatName [5680,5690]
===
delete-tree
---
InfixExpression [5530,5549]
    ArrayAccess [5530,5541]
        SimpleName: formats [5530,5537]
        SimpleName: fe [5538,5540]
    INFIX_EXPRESSION_OPERATOR: != [5542,5544]
    NullLiteral [5545,5549]
===
delete-node
---
IfStatement [5526,5811]
===
===
delete-tree
---
MethodInvocation [5894,5924]
    METHOD_INVOCATION_RECEIVER [5894,5901]
        SimpleName: pattern [5894,5901]
    SimpleName: charAt [5902,5908]
    METHOD_INVOCATION_ARGUMENTS [5909,5923]
        MethodInvocation [5909,5923]
            METHOD_INVOCATION_RECEIVER [5909,5912]
                SimpleName: pos [5909,5912]
            SimpleName: getIndex [5913,5921]
===
delete-tree
---
MethodDeclaration [15194,15367]
    Javadoc [15194,15285]
        TagElement [15205,15246]
            TextElement: Get the meta-format currently configured. [15205,15246]
        TagElement [15262,15277]
            TextElement:  Format. [15269,15277]
    Modifier: public [15290,15296]
    Modifier: synchronized [15297,15309]
    SimpleType [15310,15316]
        SimpleName: Format [15310,15316]
    SimpleName: getMetaFormat [15317,15330]
    Block [15333,15367]
        ReturnStatement [15343,15361]
            SimpleName: metaFormat [15350,15360]
===
delete-tree
---
MethodDeclaration [15373,15722]
    Javadoc [15373,15554]
        TagElement [15384,15483]
            TextElement: Set the meta-format. Has no effect until a subsequent call to [15384,15445]
            TagElement [15453,15482]
                MethodRef [15460,15481]
                    SimpleName: applyPattern [15461,15473]
                    MethodRefParameter [15474,15480]
                        SimpleType [15474,15480]
                            SimpleName: String [15474,15480]
            TextElement: . [15482,15483]
        TagElement [15499,15546]
            SimpleName: metaFormat [15506,15516]
            TextElement:  the Format metaFormat to set. [15516,15546]
    Modifier: public [15559,15565]
    Modifier: synchronized [15566,15578]
    PrimitiveType: void [15579,15583]
    SimpleName: setMetaFormat [15584,15597]
    SingleVariableDeclaration [15598,15615]
        SimpleType [15598,15604]
            SimpleName: Format [15598,15604]
        SimpleName: metaFormat [15605,15615]
    Block [15617,15722]
        ExpressionStatement [15627,15678]
            MethodInvocation [15627,15677]
                METHOD_INVOCATION_RECEIVER [15627,15635]
                    SimpleName: Validate [15627,15635]
                SimpleName: notNull [15636,15643]
                METHOD_INVOCATION_ARGUMENTS [15644,15676]
                    SimpleName: metaFormat [15644,15654]
                    StringLiteral: "metaFormat is null" [15656,15676]
        ExpressionStatement [15687,15716]
            Assignment [15687,15715]
                FieldAccess [15687,15702]
                    ThisExpression [15687,15691]
                    SimpleName: metaFormat [15692,15702]
                ASSIGNMENT_OPERATOR: = [15703,15704]
                SimpleName: metaFormat [15705,15715]
===
multi-move-tree
---
TextElement: Advance the parse index by 1. [2722,2751]
to
TextElement: Convenience method to advance parse position by 1 [12296,12345]
at -1
===
multi-move-tree
---
Modifier: protected [2852,2861]
to
Modifier: private [12430,12437]
at -1
===
multi-move-tree
---
TextElement:  the ParsePosition to advance. [2777,2807]
to
TextElement:  ParsePosition [12371,12385]
at -1
===
multi-move-tree
---
MethodDeclaration [8117,8413]
    Javadoc [8117,8277]
        TagElement [8132,8181]
            TextElement: Convenience method to advance parse position by 1 [8132,8181]
        TagElement [8205,8229]
            SimpleName: pos [8212,8215]
            TextElement:  ParsePosition [8215,8229]
        TagElement [8241,8265]
            TextElement:  <code>pos</code> [8248,8265]
    Modifier: private [8286,8293]
    SimpleType [8294,8307]
        SimpleName: ParsePosition [8294,8307]
    SimpleName: next [8308,8312]
    SingleVariableDeclaration [8313,8330]
        SimpleType [8313,8326]
            SimpleName: ParsePosition [8313,8326]
        SimpleName: pos [8327,8330]
    Block [8332,8413]
        ExpressionStatement [8346,8379]
            MethodInvocation [8346,8378]
                METHOD_INVOCATION_RECEIVER [8346,8349]
                    SimpleName: pos [8346,8349]
                SimpleName: setIndex [8350,8358]
                METHOD_INVOCATION_ARGUMENTS [8359,8377]
                    InfixExpression [8359,8377]
                        MethodInvocation [8359,8373]
                            METHOD_INVOCATION_RECEIVER [8359,8362]
                                SimpleName: pos [8359,8362]
                            SimpleName: getIndex [8363,8371]
                        INFIX_EXPRESSION_OPERATOR: + [8374,8375]
                        NumberLiteral: 1 [8376,8377]
        ReturnStatement [8392,8403]
            SimpleName: pos [8399,8402]
to
MethodDeclaration [12285,12545]
at -1
===
multi-move-tree
---
MethodDeclaration [2711,2969]
    Javadoc [2711,2847]
        TagElement [2722,2751]
            TextElement: Advance the parse index by 1. [2722,2751]
        TagElement [2767,2807]
            SimpleName: pos [2774,2777]
            TextElement:  the ParsePosition to advance. [2777,2807]
        TagElement [2815,2839]
            TextElement:  <code>pos</code> [2822,2839]
    Modifier: protected [2852,2861]
    SimpleType [2862,2875]
        SimpleName: ParsePosition [2862,2875]
    SimpleName: next [2876,2880]
    SingleVariableDeclaration [2881,2898]
        SimpleType [2881,2894]
            SimpleName: ParsePosition [2881,2894]
        SimpleName: pos [2895,2898]
    Block [2900,2969]
        ExpressionStatement [2910,2943]
            MethodInvocation [2910,2942]
                METHOD_INVOCATION_RECEIVER [2910,2913]
                    SimpleName: pos [2910,2913]
                SimpleName: setIndex [2914,2922]
                METHOD_INVOCATION_ARGUMENTS [2923,2941]
                    InfixExpression [2923,2941]
                        MethodInvocation [2923,2937]
                            METHOD_INVOCATION_RECEIVER [2923,2926]
                                SimpleName: pos [2923,2926]
                            SimpleName: getIndex [2927,2935]
                        INFIX_EXPRESSION_OPERATOR: + [2938,2939]
                        NumberLiteral: 1 [2940,2941]
        ReturnStatement [2952,2963]
            SimpleName: pos [2959,2962]
to
MethodDeclaration [12285,12545]
at -1
