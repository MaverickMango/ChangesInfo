cd /home/liumengjiao/Desktop/CI/Benchmark/../bugs/JacksonCore_14_fix && timeout 300000 gen_tests.pl -g evosuite -p JacksonCore -v 14f -n 3 -o /home/liumengjiao/Desktop/CI/Evosuite/JacksonCore_14/ -b 300 >> evosuite-report-clz/test_gen_fix.log 2>&1

--------------------------------------------------------------------------------
                     Defects4j Execution Environment 
--------------------------------------------------------------------------------
PWD.........................../home/liumengjiao/Desktop/CI/bugs/JacksonCore_14_fix
SHELL........................./bin/bash
TZ............................America/Los_Angeles
JAVA_HOME...................../usr/local/lib/jdk1.8.0_351
Java Exec...................../usr/local/lib/jdk1.8.0_351/bin/java
Java Exec Resolved............/usr/local/lib/jdk1.8.0_351/bin/java
Java Version:
  java version "1.8.0_351"
  Java(TM) SE Runtime Environment (build 1.8.0_351-b10)
  Java HotSpot(TM) 64-Bit Server VM (build 25.351-b10, mixed mode)
Git version...................git version 2.34.1
SVN version...................1.14.1
Perl version..................v5.34.0
--------------------------------------------------------------------------------
Checking out 3c2c9610 to /tmp/gen_tests.pl_539048_1695212573............... OK
Executed command: git clone /home/liumengjiao/Desktop/defects4j/project_repos/jackson-core.git /tmp/gen_tests.pl_539048_1695212573 2>&1 && cd /tmp/gen_tests.pl_539048_1695212573 && git checkout 3c2c9610b6c76e2b348eb057d0a8268681d573a6 2>&1
Cloning into '/tmp/gen_tests.pl_539048_1695212573'...
done.
Note: switching to '3c2c9610b6c76e2b348eb057d0a8268681d573a6'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by switching back to a branch.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -c with the switch command. Example:

  git switch -c <new-branch-name>

Or undo this operation with:

  git switch -

Turn off this advice by setting config variable advice.detachedHead to false

HEAD is now at 3c2c9610 Fix #255
Init local repository...................................................... OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573 && git init 2>&1 && git config user.name defects4j 2>&1 && git config user.email defects4j@localhost 2>&1 && git config core.autocrlf false 2>&1
Reinitialized existing Git repository in /tmp/gen_tests.pl_539048_1695212573/.git/
Tag post-fix revision...................................................... OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573 && git init 2>&1 && echo ".svn" > .gitignore && git add -A 2>&1 && git commit -a -m D4J_JacksonCore_14_POST_FIX_REVISION 2>&1 && git tag D4J_JacksonCore_14_POST_FIX_REVISION 2>&1
Reinitialized existing Git repository in /tmp/gen_tests.pl_539048_1695212573/.git/
[detached HEAD c69d2309] D4J_JacksonCore_14_POST_FIX_REVISION
 2 files changed, 4 insertions(+), 23 deletions(-)
 create mode 100644 .defects4j.config
Copy generated Ant build file.............................................. OK
Executed command: cp -r /home/liumengjiao/Desktop/defects4j/framework/projects/JacksonCore/build_files/3c2c9610b6c76e2b348eb057d0a8268681d573a6/* /tmp/gen_tests.pl_539048_1695212573
Run post-checkout hook..................................................... OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573 && git add -A 2>&1 && git commit -a -m "D4J_JacksonCore_14_POST_FIX_COMPILABLE" 2>&1 && git tag D4J_JacksonCore_14_POST_FIX_COMPILABLE 2>&1
[detached HEAD 0698fb58] D4J_JacksonCore_14_POST_FIX_COMPILABLE
 4 files changed, 359 insertions(+)
 create mode 100644 build.xml
 create mode 100644 maven-build.properties
 create mode 100644 maven-build.xml
 create mode 100644 src/main/java/com/fasterxml/jackson/core/json/PackageVersion.java
Excluding broken/flaky tests............................................... OK
Executed command: /home/liumengjiao/Desktop/defects4j/framework/util/rm_broken_tests.pl /home/liumengjiao/Desktop/defects4j/framework/projects/JacksonCore/failing_tests/3c2c9610b6c76e2b348eb057d0a8268681d573a6 /tmp/gen_tests.pl_539048_1695212573/src/test/java
Initialize fixed program version........................................... OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573 && git add -A 2>&1 && git commit -a -m "D4J_JacksonCore_14_FIXED_VERSION" 2>&1 && git tag D4J_JacksonCore_14_FIXED_VERSION 2>&1
[detached HEAD b4257a71] D4J_JacksonCore_14_FIXED_VERSION
 4 files changed, 772 insertions(+)
 create mode 100644 defects4j.build.properties
 create mode 100644 src/test/java/com/fasterxml/jackson/core/BaseTest.java.bak
 create mode 100644 src/test/java/perf/ConcurrencyReadTest.java.bak
 create mode 100644 src/test/java/perf/ManualCharAccessTest.java.bak
Apply patch................................................................ OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573; git apply -p1 /home/liumengjiao/Desktop/defects4j/framework/projects/JacksonCore/patches/14.src.patch 2>&1
/home/liumengjiao/Desktop/defects4j/framework/projects/JacksonCore/patches/14.src.patch:22: trailing whitespace.
return new IllegalArgumentException("Trying to release buffer not owned by the context"); 
warning: 1 line adds whitespace errors.
Initialize buggy program version........................................... OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573 && git add -A 2>&1 && git commit -a -m "D4J_JacksonCore_14_BUGGY_VERSION" 2>&1 && git tag D4J_JacksonCore_14_BUGGY_VERSION 2>&1
[detached HEAD 7ab75fe7] D4J_JacksonCore_14_BUGGY_VERSION
 2 files changed, 4 insertions(+), 4 deletions(-)
Diff 3c2c9610:383f6324..................................................... OK
Executed command: git --git-dir=/home/liumengjiao/Desktop/defects4j/project_repos/jackson-core.git diff --no-ext-diff --binary 3c2c9610b6c76e2b348eb057d0a8268681d573a6 383f63242c59628d7bcef15a73eb1c9d44d7fb56 
diff --git a/release-notes/VERSION b/release-notes/VERSION
index 2c6a70a6..6a2291d7 100644
--- a/release-notes/VERSION
+++ b/release-notes/VERSION
@@ -18,7 +18,6 @@ JSON library.
 
 #253: Add `JsonGenerator. writeEmbeddedObject()` to allow writes of opaque native types
  (suggested by Gregoire C)
-#255: Relax ownership checks for buffers not to require increase in size
 
 2.7.2 (26-Feb-2016)
 
diff --git a/src/main/java/com/fasterxml/jackson/core/io/IOContext.java b/src/main/java/com/fasterxml/jackson/core/io/IOContext.java
index 18f50c8e..a4675be2 100644
--- a/src/main/java/com/fasterxml/jackson/core/io/IOContext.java
+++ b/src/main/java/com/fasterxml/jackson/core/io/IOContext.java
@@ -270,17 +270,12 @@ public class IOContext
     }
 
     protected final void _verifyRelease(byte[] toRelease, byte[] src) {
-        // 07-Mar-2016, tatu: As per [core#255], only prevent shrinking of buffer
-        if ((toRelease != src) && (toRelease.length < src.length)) { throw wrongBuf(); }
+        if ((toRelease != src) && (toRelease.length <= src.length)) { throw wrongBuf(); }
     }
 
     protected final void _verifyRelease(char[] toRelease, char[] src) {
-        // 07-Mar-2016, tatu: As per [core#255], only prevent shrinking of buffer
-        if ((toRelease != src) && (toRelease.length < src.length)) { throw wrongBuf(); }
+        if ((toRelease != src) && (toRelease.length <= src.length)) { throw wrongBuf(); }
     }
 
-    private IllegalArgumentException wrongBuf() {
-        // sanity check failed; trying to return different, smaller buffer.
-        return new IllegalArgumentException("Trying to release buffer smaller than original");
-    }
+    private IllegalArgumentException wrongBuf() { return new IllegalArgumentException("Trying to release buffer not owned by the context"); }
 }
diff --git a/src/test/java/com/fasterxml/jackson/core/io/TestIOContext.java b/src/test/java/com/fasterxml/jackson/core/io/TestIOContext.java
index 475abb5e..3bad5910 100644
--- a/src/test/java/com/fasterxml/jackson/core/io/TestIOContext.java
+++ b/src/test/java/com/fasterxml/jackson/core/io/TestIOContext.java
@@ -24,7 +24,7 @@ public class TestIOContext
         try {
             ctxt.releaseReadIOBuffer(new byte[1]);
         } catch (IllegalArgumentException e) {
-            verifyException(e, "smaller than original");
+            verifyException(e, "not owned");
         }
         // but call with null is a NOP for convenience
         ctxt.releaseReadIOBuffer(null);
@@ -40,7 +40,7 @@ public class TestIOContext
         try {
             ctxt.releaseWriteEncodingBuffer(new byte[1]);
         } catch (IllegalArgumentException e) {
-            verifyException(e, "smaller than original");
+            verifyException(e, "not owned");
         }
         ctxt.releaseWriteEncodingBuffer(null);
 
@@ -55,7 +55,7 @@ public class TestIOContext
         try {
             ctxt.releaseTokenBuffer(new char[1]);
         } catch (IllegalArgumentException e) {
-            verifyException(e, "smaller than original");
+            verifyException(e, "not owned");
         }
         ctxt.releaseTokenBuffer(null);
 
@@ -70,7 +70,7 @@ public class TestIOContext
         try {
             ctxt.releaseConcatBuffer(new char[1]);
         } catch (IllegalArgumentException e) {
-            verifyException(e, "smaller than original");
+            verifyException(e, "not owned");
         }
         ctxt.releaseConcatBuffer(null);
 
@@ -85,7 +85,7 @@ public class TestIOContext
         try {
             ctxt.releaseNameCopyBuffer(new char[1]);
         } catch (IllegalArgumentException e) {
-            verifyException(e, "smaller than original");
+            verifyException(e, "not owned");
         }
         ctxt.releaseNameCopyBuffer(null);
     }
Apply patch................................................................ OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573; git apply -p1 /tmp/gen_tests.pl_539048_1695212573/.defects4j.diff 2>&1
Tag pre-fix revision....................................................... OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573 && git add -A 2>&1 && git commit -a -m "D4J_JacksonCore_14_PRE_FIX_REVISION" 2>&1 && git tag D4J_JacksonCore_14_PRE_FIX_REVISION 2>&1
[detached HEAD 9f715b84] D4J_JacksonCore_14_PRE_FIX_REVISION
 3 files changed, 8 insertions(+), 14 deletions(-)
Check out program version: JacksonCore-14f................................. OK
Executed command: cd /tmp/gen_tests.pl_539048_1695212573 && git checkout D4J_JacksonCore_14_FIXED_VERSION 2>&1
Previous HEAD position was 9f715b84 D4J_JacksonCore_14_PRE_FIX_REVISION
HEAD is now at b4257a71 D4J_JacksonCore_14_FIXED_VERSION
Running ant (compile)...................................................... OK
Executed command:  cd /tmp/gen_tests.pl_539048_1695212573 && /home/liumengjiao/Desktop/defects4j/major/bin/ant -f /home/liumengjiao/Desktop/defects4j/framework/projects/defects4j.build.xml -Dd4j.home=/home/liumengjiao/Desktop/defects4j -Dd4j.dir.projects=/home/liumengjiao/Desktop/defects4j/framework/projects -Dbasedir=/tmp/gen_tests.pl_539048_1695212573 -Dbuild.compiler=javac1.7  compile 2>&1
Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=1G; support was removed in 8.0
Buildfile: /home/liumengjiao/Desktop/defects4j/framework/projects/defects4j.build.xml

test-offline:

get-deps:

jackson-core-from-maven.compile:
    [mkdir] Created dir: /tmp/gen_tests.pl_539048_1695212573/target/classes
    [javac] /tmp/gen_tests.pl_539048_1695212573/maven-build.xml:74: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds
    [javac] Compiling 86 source files to /tmp/gen_tests.pl_539048_1695212573/target/classes
    [javac] Creating empty /tmp/gen_tests.pl_539048_1695212573/target/classes/com/fasterxml/jackson/core/type/package-info.class
    [javac] Creating empty /tmp/gen_tests.pl_539048_1695212573/target/classes/com/fasterxml/jackson/core/base/package-info.class
    [javac] Creating empty /tmp/gen_tests.pl_539048_1695212573/target/classes/com/fasterxml/jackson/core/format/package-info.class
    [javac] Creating empty /tmp/gen_tests.pl_539048_1695212573/target/classes/com/fasterxml/jackson/core/json/package-info.class
    [javac] Creating empty /tmp/gen_tests.pl_539048_1695212573/target/classes/com/fasterxml/jackson/core/package-info.class
    [javac] Creating empty /tmp/gen_tests.pl_539048_1695212573/target/classes/com/fasterxml/jackson/core/sym/package-info.class
    [javac] Creating empty /tmp/gen_tests.pl_539048_1695212573/target/classes/com/fasterxml/jackson/core/util/package-info.class
     [copy] Copying 3 files to /tmp/gen_tests.pl_539048_1695212573/target/classes

compile:

BUILD SUCCESSFUL
Total time: 0 seconds
Creating temporary output directory........................................ OK
Executed command: mkdir -p /tmp/gen_tests.pl_539048_1695212573/evosuite
Generating (regression) tests with: evosuite............................... OK
Executed command: /home/liumengjiao/Desktop/defects4j/framework/lib/test_generation/bin/evosuite.sh

Executing command:
java -cp /home/liumengjiao/Desktop/defects4j/framework/lib/test_generation/generation/evosuite-current.jar org.evosuite.EvoSuite     -class com.fasterxml.jackson.core.io.IOContext     -projectCP /tmp/gen_tests.pl_539048_1695212573/target/classes     -seed 3014     -Dsearch_budget=150     -Dassertion_timeout=150     -Dtest_dir=/tmp/gen_tests.pl_539048_1695212573/evosuite     -criterion branch -Dstopping_condition=MaxTime -Dshow_progress=false -Djunit_check=false -Dfilter_assertions=false -Dtest_comments=false -mem 1500 
* EvoSuite 1.1.0
* Going to generate test cases for class: com.fasterxml.jackson.core.io.IOContext
* Starting Client-0
* Connecting to master process on port 3488
* Analyzing classpath: 
  - /tmp/gen_tests.pl_539048_1695212573/target/classes
* Finished analyzing classpath
* Generating tests for class com.fasterxml.jackson.core.io.IOContext
* Test criterion:
  - Branch Coverage
* Total number of test goals for DYNAMOSA: 39
* Using seed 3014
* Starting evolution
* Initial Number of Goals in DynaMOSA = 35 / 39
* Search finished after 1s and 2 generations, 2104 statements, best individual has fitness: 0.0
* Minimizing test suite
* Going to analyze the coverage criteria
* Coverage analysis for criterion BRANCH
* Coverage of criterion BRANCH: 100%
* Total number of goals: 39
* Number of covered goals: 39
* Generated 28 tests with total length 101
* Resulting test suite's coverage: 100%
* Generating assertions
* Resulting test suite's mutation score: 14%
* Writing tests to file
* Writing JUnit test case 'IOContext_ESTest' to /tmp/gen_tests.pl_539048_1695212573/evosuite
* Done!

* Computation finished
OK
Creating test suite archive................................................ OK
Executed command: tar -cjf /tmp/gen_tests.pl_539048_1695212573/JacksonCore-14f-evosuite.3.tar.bz2 -C /tmp/gen_tests.pl_539048_1695212573/evosuite/ .
Creating output directory.................................................. OK
Executed command: mkdir -p /home/liumengjiao/Desktop/CI/Evosuite/JacksonCore_14//JacksonCore/evosuite/3
Moving test suite archive to /home/liumengjiao/Desktop/CI/Evosuite/JacksonC OK
Executed command: mv /tmp/gen_tests.pl_539048_1695212573/JacksonCore-14f-evosuite.3.tar.bz2 /home/liumengjiao/Desktop/CI/Evosuite/JacksonCore_14//JacksonCore/evosuite/3
